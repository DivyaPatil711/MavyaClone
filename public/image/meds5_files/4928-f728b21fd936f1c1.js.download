"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4928,3394],{91322:function(n,t,e){e.d(t,{jl:function(){return c},Wu:function(){return d},zP:function(){return v},bW:function(){return s},fn:function(){return f},R_:function(){return m},dF:function(){return g},kL:function(){return y}});var r=e(84069),i=e(99210),o=e(15144),u=e(88385);function a(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function l(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){a(n,t,e[t])}))}return n}(0,o.j)()&&(window.clevertap=window.clevertap||{});var c=function(){try{window.clevertap.notifications.push({titleText:'<img src="'.concat(u.Qr,'/images/honk_01.gif" />'),bodyText:"<h3> Never miss the latest updates and offers!</h3> <p>Get instant notifications from Apollo Pharmacy</p>",okButtonText:"Yes, I'm on Board",rejectButtonText:"Later",okButtonColor:"#fff",serviceWorkerPath:"/service-worker.js"})}catch(n){console.log("Clevertap push notification tracking err: ",n)}},d=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if((0,o.j)())try{window.clevertap.onUserLogin.push({Site:l({Name:n.firstName+" "+(n.lastName||""),UHID:n.uhid||"","MSG-whatsapp":null===t||void 0===t?void 0:t.whatsappOptIn,Identity:n.mobileNumber.slice(3)||"",MobileNumber:n.mobileNumber||"",Phone:n.mobileNumber||"",Firstname:n.firstName||""},n.lastName&&{Lastname:n.lastName},{Relation:n.relation||"",Gender:n.gender==r.Y0.MALE?"M":n.gender==r.Y0.FEMALE?"F":"",DOB:new Date(n.dateOfBirth)},n.emailAddress&&{Email:n.emailAddress},n.photoUrl&&{Photo:n.photoUrl},n.createdDate&&{CreatedDate:n.createdDate})})}catch(e){console.log("Clevertap user login tracking err: ",e)}},v=function(n){if((0,o.j)())try{window.clevertap.onUserLogin.push({Site:{Identity:(null===n||void 0===n?void 0:n.slice(3))||""}})}catch(t){console.error("Clevertap user login tracking err: ",t)}},s=function(){if((0,o.j)())try{window.clevertap.logout()}catch(n){console.log("Clevertap user logout tracking err: ",n)}};function f(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;Promise.all([m(n,t)])}var p=function(){return"$D_".concat((new Date).getTime())},h=function(n){return Object.keys(n).forEach((function(t){"object"==typeof n[t]&&(n[t]=JSON.stringify(n[t]))})),n},m=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;try{var e;(null===window||void 0===window||null===(e=window.clevertap)||void 0===e?void 0:e.event)&&(t?("object"==typeof t&&((t=h(t)).ts=p()),window.clevertap.event.push(n,t)):window.clevertap.event.push(n))}catch(r){console.log("Clevertap Err: ",r)}},g=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;try{var e;(null===window||void 0===window||null===(e=window.clevertap)||void 0===e?void 0:e.event)&&(t?window.clevertap.event.push(n,t):window.clevertap.event.push(n))}catch(r){console.error("Clevertap Err: ",r)}},y=function(n){var t;return(a(t={},i.r.medicines(),"Home"),a(t,i.r.medicinesCart(),"Cart"),a(t,i.r.specialOffers(),"Special Offers"),t)[n]||""};t.ZP=m},50344:function(n,t,e){var r;e.d(t,{u:function(){return r}}),function(n){n.addItems="Please add items to cart. Net Amount should be above minimum order value",n.chooseAddress="Please choose delivery address",n.prescriptionNeeded="Prescription is required",n.hasNotForSaleItems="Some cart items are not for sale",n.NonServiceableItemsCart="Please remove items from cart that are not deliverable",n.PatientNotSelected="Please select a patient for doctor consulation",n.AddressNotServicable="Selected address not servicable, please update address and continue again",n.CouponValidationFailed="Coupon not applicable on your cart item(s) or item(s) with already higher discounts",n.PrescriptionUploadFailed="Prescription Upload Failed. Please try again later or choose a different option",n.EmptyShipments="Your shipments are found to be empty. Please try again later or refresh the page"}(r||(r={}))},8551:function(n,t,e){e.d(t,{K8:function(){return o},D6:function(){return u},A_:function(){return a},Ch:function(){return l},i6:function(){return c},kL:function(){return d}});var r=e(27361),i=e.n(r),o=function(n,t){return{prescriptionRequired:n?"Yes":"No",noOfRXUploaded:(null===t||void 0===t?void 0:t.length)||0}},u=function(n,t,e,r){return{customerID:(null===n||void 0===n?void 0:n.id)||"",loggedIn:t?"Yes":"No",circleMember:e?"Existing":r?"Added":"Not Added",isCircleApp:r?"Yes":"No"}},a=function(n){return{cartItemsObj:n.map((function(n){return{sku:n.sku,price:n.price,quantity:n.quantity}})),totalItemsInCart:null===n||void 0===n?void 0:n.length}},l=function(n){return{TAT_Min:i()(n,[0,"orderTat"],""),TAT_Min_hours:i()(n,[0,"hourDifference"],""),TAT_Max:i()(n,[n.length-1,"orderTat"],""),TAT_Max_hours:i()(n,[n.length-1,"hourDifference"],""),TAT_range:i()(n,[n.length-1,"orderTat"],"").length?(Number(i()(n,[n.length-1,"orderTat"],""))-Number(i()(n,[0,"orderTat"],""))).toString():i()(n,[0,"orderTat"],"")}},c=function(n){return{Pincode:(null===n||void 0===n?void 0:n.pincode)||"",City:(null===n||void 0===n?void 0:n.city)||"",lat:null===n||void 0===n?void 0:n.lat,long:null===n||void 0===n?void 0:n.lng}},d=function(n){var t=n.split("/");return t[t.length-1].split("-").join(" ")}},75505:function(n,t,e){e.d(t,{Z:function(){return I}});var r=e(34051),i=e.n(r),o=e(99210),u=e(63093),a=e(44266),l=e(7972),c=e(11163),d=e(3644),v=e(48567),s=e(52951),f=e(15144),p=e(1098);function h(n,t,e,r,i,o,u){try{var a=n[o](u),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function m(n){return function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function u(n){h(o,r,i,u,a,"next",n)}function a(n){h(o,r,i,u,a,"throw",n)}u(void 0)}))}}function g(n){return y.apply(this,arguments)}function y(){return(y=m(i().mark((function n(t){var e,r,o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=t.token,r=t.ssoPlatform,(0,f.j)()&&e&&localStorage.setItem("utm_source",(0,u.eY)("utm_source")),o={externalAuthToken:e,ssoPlatform:r},d.Z.dispatch((0,p.Z)(o));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function b(n,t,e,r,i,o,u){try{var a=n[o](u),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function w(n){return function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function u(n){b(o,r,i,u,a,"next",n)}function a(n){b(o,r,i,u,a,"throw",n)}u(void 0)}))}}function I(n){return P.apply(this,arguments)}function P(){return(P=w(i().mark((function n(t){var e,r,f,p,h,m,y;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=t.ssoPlatform,r=t.redirectURL,n.t0=e,n.next=n.t0===v.x.PHONEPE_MINIAPP?4:n.t0===v.x.PAYTM_MINIAPP?12:27;break;case 4:return n.next=6,(0,l._3)();case 6:if((f=n.sent)!==l.R9){n.next=10;break}return c.default.push(o.r.signIn(r)),n.abrupt("return");case 10:return g({token:f,ssoPlatform:e}),n.abrupt("break",31);case 12:return n.next=15,(0,a.hI)();case 15:if(h=n.sent,m=null===h||void 0===h||null===(p=h.data)||void 0===p?void 0:p.authId,!(null===h||void 0===h?void 0:h.error)||m||!(0,a.rZ)(null===h||void 0===h?void 0:h.error)){n.next=22;break}return d.Z.dispatch((0,s.IK)(null===h||void 0===h?void 0:h.error)),n.abrupt("return");case 22:if(m){n.next=25;break}return c.default.push(o.r.signIn(r)),n.abrupt("return");case 25:return g({token:m,ssoPlatform:e}),n.abrupt("break",31);case 27:return y=(0,u.eY)("t"),(0,u.eY)("utm_source")&&y&&(sessionStorage.setItem("t",y),g({token:y,ssoPlatform:e})),n.abrupt("break",31);case 31:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},92857:function(n,t,e){e.d(t,{L:function(){return c}});var r=e(82798),i=e(99210),o=(e(67294),e(21605)),u=e(991),a=e(43100),l=e(91555),c=function(n){var t=(0,o.C)(u.Z),e=(0,o.C)(a.Z),c=t===r.J.SIGNEDOUT&&!e;return n.children({protectWithLoginRedirection:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(c){var e,r=n||(null===window||void 0===window||null===(e=window.location)||void 0===e?void 0:e.pathname)||i.r.medicines();(0,l.Z)(r,t)}},isProtected:c})}},25424:function(n,t,e){var r=e(88683);t.Z=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.auth}),(function(n){return null===n||void 0===n?void 0:n.authToken}))},21810:function(n,t,e){var r=e(88683),i=e(74605),o=e(64238);t.Z=(0,r.Yh)([function(n){return n},function(n){return(0,i.Z)(n)}],(function(n,t){return(0,o.XX)(n,t)}))},74605:function(n,t,e){var r=e(88683);t.Z=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.auth}),(function(n){return null===n||void 0===n?void 0:n.currentPatientId}))},43100:function(n,t,e){var r=e(88683);t.Z=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.auth}),(function(n){return null===n||void 0===n?void 0:n.isSigningIn}))},64238:function(n,t,e){e.d(t,{QD:function(){return a},XX:function(){return l}});var r=e(88683),i=e(77569),o=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.auth}),(function(n){return null===n||void 0===n?void 0:n.patientDetails})),u=i.Z.getSelectors(o),a=u.selectAll,l=u.selectById;u.selectIds},991:function(n,t,e){var r=e(88683);t.Z=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.auth}),(function(n){return null===n||void 0===n?void 0:n.signedInStatus}))},28951:function(n,t,e){var r=e(34051),i=e.n(r),o=e(83977),u=e(91259),a=e(76728),l=e(92885);function c(n,t,e,r,i,o,u){try{var a=n[o](u),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function d(n){return function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function u(n){c(o,r,i,u,a,"next",n)}function a(n){c(o,r,i,u,a,"throw",n)}u(void 0)}))}}function v(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var s=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.remoteConfigActivated=!1,this.remoteConfig=null,this.app=null,this.auth=null,this.projectId=l.g2,this.buildFirebaseClient()}var t,e,r;return t=n,e=[{key:"buildFirebaseClient",value:function(){var n=(0,o.C6)().length?(0,o.Mq)():(0,o.ZF)(this.getFirebaseConfig()),t=(0,u.v0)(n);this.app=n,this.auth=t,this.initFirebaseRemoteConfig()}},{key:"initFirebaseRemoteConfig",value:function(){var n=(0,a.sN)(this.getApp());n&&(n.settings.minimumFetchIntervalMillis=0),this.setRemoteConfig(n),this.fetchAndActivateRemoteConfig()}},{key:"setRemoteConfig",value:function(n){this.remoteConfig=n}},{key:"setRemoteConfigActivated",value:function(n){this.remoteConfigActivated=n}},{key:"fetchAndActivateRemoteConfig",value:function(){var n=this;return d(i().mark((function t(){var e,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=n.remoteConfig)){t.next=6;break}return t.next=4,(0,a.xS)(e);case 4:r=t.sent,n.setRemoteConfigActivated(r);case 6:case"end":return t.stop()}}),t)})))()}},{key:"getApp",value:function(){return this.app}},{key:"getAuth",value:function(){return this.auth}},{key:"getProjectId",value:function(){return this.projectId}},{key:"getFirebaseConfig",value:function(){var n=this.getProjectId();return{projectId:n,apiKey:"AIzaSyAEzdhWRdOfAjYTWrp_gyi_f5mjxXu6YGE",appId:"1:537093214409:web:4eec27a7bc6bc1c8",authDomain:"".concat(n,".firebaseapp.com"),databaseURL:"https://".concat(n,".firebaseio.com"),messagingSenderId:"537093214409",storageBucket:""}}},{key:"getRemoteConfigActivated",value:function(){return this.remoteConfigActivated}},{key:"getFirebaseRemoteConfig",value:function(){var n=this;return d(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.getRemoteConfigActivated()){t.next=3;break}return t.next=3,n.fetchAndActivateRemoteConfig();case 3:return t.abrupt("return",n.remoteConfig);case 4:case"end":return t.stop()}}),t)})))()}},{key:"getRemoteConfigValue",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_value",r=this;return d(i().mark((function o(){var u,l,c;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.getFirebaseRemoteConfig();case 2:if(!(u=i.sent)){i.next=7;break}return c={_value:function(){var e=(0,a.NA)(u,n);return(null===e||void 0===e?void 0:e._value)||t},boolean:function(){return(0,a.Pf)(u,n)||t}},i.abrupt("return",null===c||void 0===c||null===(l=c[e])||void 0===l?void 0:l.call(c));case 7:return i.abrupt("return",t);case 8:case"end":return i.stop()}}),o)})))()}},{key:"signOut",value:function(n){return this.auth.signOut().then((function(){n.dispatchSignOutUpdates()}))}},{key:"customSignIn",value:function(n,t){(0,u._p)(this.auth,n).then((function(n){var e=n.user;t.dispatchUpdateNewUser(e.metadata.creationTime===e.metadata.lastSignInTime),e.getIdToken().then((function(n){t.dispatchUpdateAuthToken(n),e.refreshToken&&localStorage.setItem("refreshToken",e.refreshToken)}))}))}}],r=[{key:"createInstance",value:function(){this.client=new n}},{key:"getInstance",value:function(){return this.client||this.createInstance(),this.client}}],e&&v(t.prototype,e),r&&v(t,r),n}();s.client=null,t.Z=s},91555:function(n,t,e){e.d(t,{Z:function(){return v}});var r=e(82798),i=e(99210),o=e(63093),u=e(44728),a=e(11163),l=e(92885),c=e(75505),d=e(48567);function v(n,t){if(t!==r.J.SIGNEDIN){var e=n||i.r.welcome();if((0,o.eY)("utm_source")!==d.x.MS_TEAMS){switch((0,u.tp)()){case u.uc.PHONEPE_SWITCH:return void(0,c.Z)({ssoPlatform:d.x.PHONEPE_MINIAPP,redirectURL:e});case u.uc.PAYTM_MINIAPP:return void(0,c.Z)({ssoPlatform:d.x.PAYTM_MINIAPP,redirectURL:e})}l.SU.includes(e)||a.default.push(i.r.signIn(e))}else(0,c.Z)({ssoPlatform:d.x.MS_TEAMS,redirectURL:e})}}},19858:function(n,t,e){var r=e(88683);t.Z=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.cart}),(function(n){return null===n||void 0===n?void 0:n.cartAmountBreakup}))},59379:function(n,t,e){var r=e(88683);t.Z=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.cart}),(function(n){return null===n||void 0===n?void 0:n.cartFlowCheckpoints}))},22652:function(n,t,e){e.d(t,{jn:function(){return a},UT:function(){return l}});var r=e(88683),i=e(92353),o=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.cart}),(function(n){return null===n||void 0===n?void 0:n.cartItems})),u=i.Z.getSelectors(o),a=u.selectAll,l=u.selectById;u.selectIds},76384:function(n,t,e){var r=e(88683),i=e(22652),o=e(11349),u=e(19858),a=e(74605);t.Z=(0,r.Yh)([function(n){return(0,o.Z)(n)},function(n){return(0,a.Z)(n)},function(n){return(0,u.Z)(n)},function(n){return(0,i.jn)(n)}],(function(n,t,e,r){return n?0:t&&e?parseFloat((e.cartTotal-e.cartSavings||0).toFixed(2)):parseFloat(r.reduce((function(n,t){return 1===t.couponFree&&t.quantity>1?n+t.quantity*(Number(t.special_price)||t.price)-t.price:0===t.special_price&&1===t.couponFree&&1==t.quantity?n+t.quantity*t.special_price:n+t.quantity*(Number(t.special_price)||t.price)}),0).toFixed(2))}))},33394:function(n,t,e){var r=e(88683),i=e(27130);t.Z=(0,r.Yh)([function(n){return(0,i.Z)(n)}],(function(n){return(null===n||void 0===n?void 0:n.valid)&&(null===n||void 0===n?void 0:n.coupon)||""}))},44163:function(n,t,e){e.d(t,{Z:function(){return c}});var r=e(88683),i=e(74605),o=e(19858),u=(0,r.Yh)([function(n){return(0,o.Z)(n)}],(function(n){return null===n||void 0===n?void 0:n.bankOfferDiscount})),a=e(11349),l=e(29411),c=(0,r.Yh)([function(n){return(0,a.Z)(n)},function(n){return(0,i.Z)(n)},function(n){return(0,o.Z)(n)},function(n){return(0,l.Z)(n)},function(n){return u(n)}],(function(n,t,e,r,i){return n?0:t&&e?r?i||0:e.couponSavings||0:0}))},94792:function(n,t,e){var r=e(88683);t.Z=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.cart}),(function(n){return null===n||void 0===n?void 0:n.customerCartPreferences}))},88835:function(n,t,e){var r=e(88683),i=e(74605),o=e(11349),u=e(19858),a=e(22652);t.Z=(0,r.Yh)([function(n){return(0,o.Z)(n)},function(n){return(0,i.Z)(n)},function(n){return(0,a.jn)(n)},function(n){return(0,u.Z)(n)}],(function(n,t,e,r){return!(null===e||void 0===e?void 0:e.length)||n?0:t&&r?r.isDeliveryFree?0:r.deliveryCharges||0:0}))},29411:function(n,t,e){var r=e(88683),i=e(19858);t.Z=(0,r.Yh)([function(n){return(0,i.Z)(n)}],(function(n){return null===n||void 0===n?void 0:n.isBankOfferApplied}))},62914:function(n,t,e){var r=e(88683),i=e(74605),o=e(11349),u=e(22652),a=e(19858);t.Z=(0,r.Yh)([function(n){return(0,o.Z)(n)},function(n){return(0,u.jn)(n)},function(n){return(0,i.Z)(n)},function(n){return(0,a.Z)(n)}],(function(n,t,e,r){return n?0:e&&r?r.cartTotal||0:t.reduce((function(n,t){return n+=Number(t.price)*t.quantity}),0)}))},57143:function(n,t,e){var r=e(88683),i=e(74605),o=e(19858),u=e(26200),a=e(3503);t.Z=(0,r.Yh)([function(n){return(0,i.Z)(n)},function(n){return(0,o.Z)(n)},function(n){return(0,u.Z)(n)},function(n){return(0,a.Z)(n)}],(function(n,t,e,r){var i=n?(null===t||void 0===t?void 0:t.estimatedAmount)||0:e+r||0;return parseFloat(i.toFixed(2))}))},68680:function(n,t,e){var r=e(88683),i=e(74605),o=e(11349),u=e(62914),a=e(76384),l=e(19858);t.Z=(0,r.Yh)([function(n){return(0,o.Z)(n)},function(n){return(0,i.Z)(n)},function(n){return(0,l.Z)(n)},function(n){return(0,u.Z)(n)},function(n){return(0,a.Z)(n)}],(function(n,t,e,r,i){return n?0:t&&e?e.cartSavings||0:r-i}))},26200:function(n,t,e){var r=e(88683),i=e(62914),o=e(88835),u=e(44163),a=e(68680);t.Z=(0,r.Yh)([function(n){return(0,i.Z)(n)},function(n){return(0,o.Z)(n)},function(n){return(0,u.Z)(n)},function(n){return(0,a.Z)(n)}],(function(n,t,e,r){return parseFloat((n+t-e-r).toFixed(2))}))},73637:function(n,t,e){var r=e(88683),i=e(74605),o=e(11349),u=e(19858),a=e(22652),l=e(1436),c=e(64636);t.Z=(0,r.Yh)([function(n){return(0,o.Z)(n)},function(n){return(0,i.Z)(n)},function(n){return(0,u.Z)(n)},function(n){return(0,a.jn)(n)},function(n){return(0,l.Z)(n)}],(function(n,t,e,r,i){return n?0:t&&e?(null===(o=e.circleSavings)||void 0===o?void 0:o.membershipCashBack)||0:(0,c.Z)(r,i);var o}))},27130:function(n,t,e){var r=e(88683);t.Z=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.cart}),(function(n){return null===n||void 0===n?void 0:n.validCouponResponse}))},33424:function(n,t,e){var r=e(88683);t.Z=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.cart}),(function(n){return null===n||void 0===n?void 0:n.whatsAppReminderSettings}))},87307:function(n,t,e){e.d(t,{u:function(){return h}});var r=e(34051),i=e.n(r),o=e(11163),u=e(99210),a=e(3644),l=e(40245),c=e(45867),d=e(15306),v=e(96129);function s(n,t,e,r,i,o,u){try{var a=n[o](u),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function f(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function p(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){f(n,t,e[t])}))}return n}var h=function(){var n,t=(n=i().mark((function n(t){var e,r,s,f,h,m,g,y,b,w,I;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=t.patientId,r=t.apolloClient,s=t.nonCartFlow,f=t.pharmaAddressDetails,h=t.whatsAppReminderSettings,m=t.customerCartPreferences,g=a.Z.dispatch,!e){n.next=12;break}if(y=o.default.pathname===u.r.medicinesCart(),b=o.default.query.reminderId,w=!0,I=sessionStorage.getItem("whatsappReminderId"),y&&(b&&!I?sessionStorage.setItem("whatsappReminderId",b):I&&(sessionStorage.removeItem("whatsappReminderId"),w=!1)),!w){n.next=12;break}return g((0,c.N0)(l.g.pending)),n.next=12,r.query({query:d.Py,variables:p({patientId:e},b&&{reminderId:b}),fetchPolicy:"no-cache"}).then((function(n){var t,e=null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.fetchCartV2;(0,v.q)(e,s,f,h,m)})).then((function(){g((0,c.N0)(l.g.fulfilled))})).catch((function(n){console.error("Failed to fetch server cart",n),g((0,c.N0)(l.g.rejected))})).finally((function(){y&&b&&o.default.replace(u.r.medicinesCart(),u.r.medicinesCart(),{shallow:!0})}));case 12:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function u(n){s(o,r,i,u,a,"next",n)}function a(n){s(o,r,i,u,a,"throw",n)}u(void 0)}))});return function(n){return t.apply(this,arguments)}}()},96129:function(n,t,e){e.d(t,{q:function(){return C}});var r=e(91322),i=e(3644),o=e(84093),u=e(8551),a=e(9473),l=e(23497),c=e(92431),d=function(n){var t=n.prescriptionAddedBy,e=n.doctorName;return t===c.R.AUTO_UPLOAD||!!e},v=function(n){var t=[];(null===n||void 0===n?void 0:n.length)&&(t=n.filter((function(n){return n})).filter((function(n){var t=n.prismFileId;return void 0===t?"":t})).map((function(n){var t=n.appointmentId,e=void 0===t?"":t,r=n.meta,i=void 0===r?null:r,o=n.prismFileId,u=n.fileUrl,a=void 0===u?"":u,l=n.addedBy;return{prismFileId:o,appointmentId:e,fileUrl:a,date:null===i||void 0===i?void 0:i.createdAt,prescriptionAddedBy:l,doctorName:null===i||void 0===i?void 0:i.doctorName,medicineNames:(null===i||void 0===i?void 0:i.medicineNames)||[],medicineSku:(null===i||void 0===i?void 0:i.medicineSku)||[],forPatient:null===i||void 0===i?void 0:i.patientName,fileName:null===i||void 0===i?void 0:i.fileName,fileType:null===i||void 0===i?void 0:i.fileType,baseFormat:""}})));var e=t.filter((function(n){return!d(n)})).map((function(n){var t=n.baseFormat,e=void 0===t?"":t,r=n.fileUrl,i=void 0===r?"":r,o=n.fileName,u=void 0===o?"":o,a=n.fileType;return{baseFormat:e,fileName:u,fileType:void 0===a?"":a,fileUrl:i}})),r=t.filter(d).map((function(n){var t=n.date,e=void 0===t?"":t,r=n.doctorName,i=void 0===r?"":r,o=n.forPatient,u=void 0===o?"":o,a=n.medicineNames,l=void 0===a?[]:a,c=n.medicineSku,d=void 0===c?[]:c,v=n.prismFileId,s=void 0===v?"":v,f=n.appointmentId,p=void 0===f?"":f,h=n.fileUrl,m=void 0===h?"":h,g=n.prescriptionAddedBy;return{fileUrl:m,date:e,doctorName:i,forPatient:u,medicineNames:l,medicineSku:d,prismFileId:s,appointmentId:p,prescriptionAddedBy:void 0===g?"":g}}));return{prescriptionsForOrder:t,physicalPrescriptions:e,ePrescriptions:r}},s=function(n){var t=v(n),e=t.prescriptionsForOrder,r=t.physicalPrescriptions,o=t.ePrescriptions;(0,a.dC)((function(){i.Z.dispatch((0,l.X0)(e)),i.Z.dispatch((0,l.wC)(r)),i.Z.dispatch((0,l.X8)(o))}))},f=e(72722),p=e(13028),h=e(45867),m=e(38816),g=e(11163),y=e(99210),b=e(18645);function w(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function I(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function P(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){I(n,t,e[t])}))}return n}function Z(n){return function(n){if(Array.isArray(n))return w(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,t){if(!n)return;if("string"===typeof n)return w(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return w(n,t)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=function(n,t,e,a,c){var d,v,w,I,C,A,k,S,N,O,T,Y,j,x,F,R,D,_,E=i.Z.dispatch,M=(null===n||void 0===n||null===(d=n.message)||void 0===d?void 0:d.value)||"",U=g.default.pathname===y.r.medicinesCart(),B=null===n||void 0===n||null===(v=n.message)||void 0===v?void 0:v.showOnlyAtCart;(null===M||void 0===M?void 0:M.length)&&((B&&U||!B)&&E((0,h.AS)(M)),(0,r.ZP)("Cart Error event",P({Action:M},function(n){var t=(0,u.A_)(n);return{"Cart Items":t.cartItemsObj,"Items In Cart":t.totalItemsInCart}}(null===n||void 0===n||null===(I=n.data)||void 0===I?void 0:I.medicineOrderCartLineItems),{"Rx required":null===n||void 0===n||null===(C=n.data)||void 0===C?void 0:C.prescriptionType,"Order value":null===n||void 0===n||null===(A=n.data)||void 0===A||null===(k=A.amount)||void 0===k?void 0:k.cartTotal,"Delivery Charges":null===n||void 0===n||null===(S=n.data)||void 0===S||null===(N=S.amount)||void 0===N?void 0:N.deliveryCharges,"Coupon code":null===n||void 0===n||null===(O=n.data)||void 0===O?void 0:O.couponDetails,"Circle benefits applied":(null===n||void 0===n||null===(T=n.data)||void 0===T||null===(Y=T.subscriptionDetails)||void 0===Y?void 0:Y.subscriptionApplied)?"Yes":"No",Discount:null===n||void 0===n||null===(j=n.data)||void 0===j||null===(x=j.amount)||void 0===x?void 0:x.couponSavings,"Circle cashback":null===n||void 0===n||null===(F=n.data)||void 0===F||null===(R=F.amount)||void 0===R||null===(D=R.circleSavings)||void 0===D?void 0:D.membershipCashBack,split:null===n||void 0===n||null===(_=n.data)||void 0===_?void 0:_.medicineOrderCartLineItems.length},function(n){var t=(0,u.i6)(n);return{City:t.City,Pincode:t.Pincode}}(e))),E((0,o.ZS)(!1)));if(!(null===n||void 0===n||null===(w=n.data)||void 0===w?void 0:w.patientId))throw new Error("Server Cart : Bad Response");var L,q,H,W,X,G,z,J,V,K,Q,$,nn,tn,en,rn,on,un,an,ln,cn,dn,vn,sn,fn,pn,hn,mn,gn,yn,bn,wn,In,Pn,Zn=null===n||void 0===n||null===(L=n.message)||void 0===L?void 0:L.feedback,Cn=null===n||void 0===n||null===(q=n.data)||void 0===q||null===(H=q.address)||void 0===H?void 0:H.id,An=(null===n||void 0===n||null===(W=n.data)||void 0===W||null===(X=W.address)||void 0===X||null===(G=X.coordinate)||void 0===G||null===(z=G.latitude)||void 0===z?void 0:z.toString())||"",kn=(null===n||void 0===n||null===(J=n.data)||void 0===J||null===(V=J.address)||void 0===V||null===(K=V.coordinate)||void 0===K||null===(Q=K.longitude)||void 0===Q?void 0:Q.toString())||"",Sn=(null===n||void 0===n||null===($=n.data)||void 0===$||null===(nn=$.address)||void 0===nn?void 0:nn.zipcode)||"",Nn=(null===n||void 0===n||null===(tn=n.data)||void 0===tn||null===(en=tn.address)||void 0===en?void 0:en.city)||"",On=(null===n||void 0===n||null===(rn=n.data)||void 0===rn||null===(on=rn.address)||void 0===on?void 0:on.state)||"",Tn=null===n||void 0===n||null===(un=n.data)||void 0===un?void 0:un.subscriptionDetails,Yn=null===n||void 0===n||null===(an=n.data)||void 0===an?void 0:an.amount,jn=(null===Yn||void 0===Yn?void 0:Yn.usedHC)||0,xn=(null===Yn||void 0===Yn?void 0:Yn.availableHC)||0,Fn=(null===n||void 0===n||null===(ln=n.data)||void 0===ln||null===(cn=ln.amount)||void 0===cn?void 0:cn.hcBreakdown)||null,Rn=null===n||void 0===n||null===(dn=n.data)||void 0===dn?void 0:dn.isHCPreferred,Dn=null===n||void 0===n||null===(vn=n.data)||void 0===vn?void 0:vn.prescriptionDetails,_n=null===n||void 0===n||null===(sn=n.data)||void 0===sn?void 0:sn.prescriptionType,En=null===n||void 0===n||null===(fn=n.data)||void 0===fn?void 0:fn.couponDetails,Mn=null===n||void 0===n||null===(pn=n.data)||void 0===pn?void 0:pn.medicineOrderCartLineItems,Un=null===n||void 0===n||null===(hn=n.data)||void 0===hn?void 0:hn.noOfShipments,Bn=!!(null===n||void 0===n||null===(mn=n.data)||void 0===mn||null===(gn=mn.reminderDetails)||void 0===gn?void 0:gn.isReminderSet),Ln=!!(null===n||void 0===n||null===(yn=n.data)||void 0===yn||null===(bn=yn.reminderDetails)||void 0===bn?void 0:bn.isFeatureEnabled),qn=!!(null===n||void 0===n||null===(wn=n.data)||void 0===wn||null===(In=wn.reminderDetails)||void 0===In?void 0:In.isUserDenied),Hn=(0,m.vW)(Mn),Wn=null===n||void 0===n||null===(Pn=n.data)||void 0===Pn?void 0:Pn.outOfStockItemsList;!function(n){try{(0,p.z3)(n),E((0,h.Uj)([]))}catch(t){console.error("Failed to sync device cart",t)}}(Hn),s(Dn),function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=(0,m.H6)(n,t);E((0,h.Pb)(e))}(Mn,Un),E(En?(0,h.f9)(En):(0,h.f9)(null)),E(Tn?(0,f.Z9)(Tn):(0,f.Z9)(null)),E(Cn?(0,o.xt)(Cn):(0,o.xt)("")),E((0,o.SR)(!1)),E((0,h.F7)(P({},a,{whatsAppReminderStatus:Bn,enableWhatsAppReminder:Ln,whatsAppRemindersDeny:qn}))),E((0,l.a_)(_n));var Xn=![b.l.PRESCRIPTION].some((function(n){return g.default.asPath.includes(n)}));E((0,h.gD)(P({},c,{prescriptionFlowSelected:_n},Xn&&{checkpoints:[b.l.LANDING]}))),E((0,o.cf)(!1)),E((0,h.VX)(Nn)),Sn&&E((0,o.bJ)({city:Nn,country:"",latitude:Number(An),longitude:Number(kn),pincode:Sn,state:On})),E((0,h.ZW)(Rn)),E((0,h.PG)(jn)),E((0,h.Jd)(xn)),E((0,h.B8)(Zn)),E((0,h.FC)(Fn)),localStorage.setItem("pharmaPincode",Sn),(0,p.gf)(t,Yn),(null===Wn||void 0===Wn?void 0:Wn.length)&&E((0,h.H5)(Z(Wn)))}},99730:function(n,t,e){e.d(t,{w5:function(){return a},Eo:function(){return l}});var r=e(88683),i=e(84504),o=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.location}),(function(n){return null===n||void 0===n?void 0:n.addressList})),u=i.Z.getSelectors(o),a=u.selectAll,l=u.selectById;u.selectIds},66410:function(n,t,e){var r=e(88683);t.Z=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.location}),(function(n){return null===n||void 0===n?void 0:n.currentAddressId}))},33342:function(n,t,e){var r=e(88683),i=e(66410),o=e(99730);t.Z=(0,r.Yh)([function(n){return n},function(n){return(0,i.Z)(n)}],(function(n,t){return(0,o.Eo)(n,t)}))},7347:function(n,t,e){var r=e(88683);t.Z=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.location}),(function(n){var t,e;return{state:null===n||void 0===n?void 0:n.state,city:null===n||void 0===n?void 0:n.city,country:null===n||void 0===n?void 0:n.country,pincode:null===n||void 0===n?void 0:n.pincode,lat:null===n||void 0===n||null===(t=n.latitude)||void 0===t?void 0:t.toString(),lng:null===n||void 0===n||null===(e=n.longitude)||void 0===e?void 0:e.toString()}}))},83014:function(n,t,e){var r=e(88683);t.Z=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.location}),(function(n){return null===n||void 0===n?void 0:n.pincode}))},78616:function(n,t,e){e.d(t,{MC:function(){return a},V8:function(){return l}});var r=e(88683),i=e(58302),o=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.prescriptions}),(function(n){return null===n||void 0===n?void 0:n.ePrescriptionDetails})),u=i.Z.getSelectors(o),a=u.selectAll,l=(u.selectById,u.selectIds,u.selectTotal)},60893:function(n,t,e){e.d(t,{gN:function(){return a},lA:function(){return l}});var r=e(88683),i=e(66485),o=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.prescriptions}),(function(n){return null===n||void 0===n?void 0:n.prescriptionDetails})),u=i.Z.getSelectors(o),a=u.selectAll,l=(u.selectById,u.selectIds,u.selectTotal)},42078:function(n,t,e){e.d(t,{N9:function(){return a}});var r=e(88683),i=e(95887),o=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.prescriptions}),(function(n){return null===n||void 0===n?void 0:n.serverPrescriptionDetails})),u=i.Z.getSelectors(o),a=u.selectAll;u.selectById,u.selectIds},3503:function(n,t,e){var r=e(88683),i=e(74173);t.Z=(0,r.Yh)([function(n){return(0,i.Z)(n)}],(function(n){return(null===n||void 0===n?void 0:n.currentSellingPrice)||(null===n||void 0===n?void 0:n.price)||0}))},1436:function(n,t,e){var r=e(88683);t.Z=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.subscriptions}),(function(n){return null===n||void 0===n?void 0:n.cashbacks}))},74173:function(n,t,e){var r=e(88683);t.Z=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.subscriptions}),(function(n){return null===n||void 0===n?void 0:n.circlePlanInCart}))},93858:function(n,t,e){e.d(t,{pZ:function(){return a},we:function(){return l}});var r=e(88683),i=e(73362),o=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.subscriptions}),(function(n){return null===n||void 0===n?void 0:n.circlePlans})),u=i.Z.getSelectors(o),a=u.selectAll,l=u.selectById;u.selectIds},13855:function(n,t,e){var r=e(88683);t.Z=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.subscriptions}),(function(n){return null===n||void 0===n?void 0:n.isCircleApplied}))},52845:function(n,t,e){var r=e(88683);t.Z=(0,r.Yh)((function(n){return null===n||void 0===n?void 0:n.subscriptions}),(function(n){return null===n||void 0===n?void 0:n.selectedSubPlanId}))},21783:function(n,t){var e=function(n,t){var e=n*t/100;return e>=.1?e:0};t.Z=function(n,t,r,i){if(i){var o="".concat(n,"~").concat(i);if((null===r||void 0===r?void 0:r[o])>=0)return e(t,null===r||void 0===r?void 0:r[o])}return(null===r||void 0===r?void 0:r[n])>=0?e(t,null===r||void 0===r?void 0:r[n]):0}},64636:function(n,t,e){var r=e(21783);t.Z=function(n,t){var e=0;return n.forEach((function(n){var i,o=n.quantity,u=n.type_id,a=n.subcategory,l=n.sellingPrice;e+=o*(0,r.Z)(null===(i=u||"")||void 0===i?void 0:i.toUpperCase(),l,t,a)})),e}},22674:function(n,t,e){e.d(t,{D:function(){return d}});var r=e(69935),i=e(67294),o=e(11124),u=e(26554),a=e(4486);function l(){return l=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},l.apply(this,arguments)}var c=function(){return{called:!1,data:void 0,error:void 0,hasError:!1,loading:!1}};function d(n,t){void 0===t&&(t={});var e=(0,o.x)(t.client),d=i.useState(c),v=d[0],s=d[1],f=t,p=f.rethrow,h=void 0===p||p,m=function(n,t){if(null==n)return{};var e,r,i={},o=Object.keys(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||(i[e]=n[e]);return i}(f,["rethrow"]),g=function(n){(0,u.Z)((function(){s((function(t){return l({},t,{},n)}))}))};i.useEffect((function(){g({called:!1,data:void 0,error:void 0,hasError:!1,loading:!1})}),[e]);var y=function(){var n=i.useRef(0);return{generateNewMutationId:function(){return n.current+=1,n.current},isMostRecentMutation:function(t){return n.current===t}}}(),b=y.generateNewMutationId,w=y.isMostRecentMutation,I=function(n,t){w(t)&&g({error:n,hasError:!0,loading:!1})};return[i.useCallback((function(t){return void 0===t&&(t={}),new Promise((function(i,o){v.loading||g({called:!0,data:void 0,error:void 0,hasError:!1,loading:!0});var u=b(),a=m.variables?l({},t.variables,{},m.variables):t.variables;e.mutate(l({mutation:n},m,{},t,{variables:a})).then((function(n){!function(n,t){var e=n.data,i=n.errors;i&&i.length>0?I(new r.cA({graphQLErrors:i}),t):w(t)&&g({data:e,loading:!1})}(n,u),i(n)})).catch((function(n){I(n,u),h?o(n):i({})}))}))}),[e,n,(0,a.pq)(t)]),v]}}}]);