(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3225],{69274:function(e,n,t){"use strict";var o;t.d(n,{R:function(){return o}}),function(e){e.AUTO="AUTO",e.MANUAL="MANUAL"}(o||(o={}))},58053:function(e,n,t){"use strict";t.d(n,{e:function(){return r}});var o=t(85893),r=function(e){var n=e.pathName,t=e.iconClass;return(0,o.jsx)("span",{className:t,children:n.map((function(e,n){return(0,o.jsx)("span",{className:e},n)}))})}},24477:function(e,n,t){"use strict";t.d(n,{Jp:function(){return v},Iw:function(){return p},Kc:function(){return h}});var o=t(34051),r=t.n(o),i=t(9669),a=t.n(i),c=t(15144),l=t(88385);function u(e,n,t,o,r,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(o,r)}function s(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){u(i,o,r,a,c,"next",e)}function c(e){u(i,o,r,a,c,"throw",e)}a(void 0)}))}}var d={authToken:l.Hx,hitUrl:"".concat(l.O3,"/hit"),initTurretSrchURL:"".concat(l.O3,"/init"),turretAddToCart:"".concat(l.O3,"/addToCart")},f=function(){var e=s(r().mark((function e(n,t,o){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a().get("".concat(d.hitUrl),{headers:{Authorization:d.authToken,"X-TOKEN":n},params:{query:t,param:o}}).catch((function(e){console.error("Search Hit Api failed",e)})));case 1:case"end":return e.stop()}}),e)})));return function(n,t,o){return e.apply(this,arguments)}}(),v=function(e,n,t){(0,c.j)()&&f(e,n,t)},p=function(){var e=s(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,c.j)()){e.next=9;break}return e.prev=1,e.next=4,a().get("".concat(d.initTurretSrchURL),{headers:{Authorization:d.authToken,"X-TOKEN":n}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("There was an error initialising turret search",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=s(r().mark((function e(n,t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,c.j)()){e.next=9;break}return e.prev=1,e.next=4,a().get("".concat(d.turretAddToCart),{headers:{Authorization:d.authToken,"X-TOKEN":n},params:{sku:t}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("There was an error tracking add to cart turret event",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n,t){return e.apply(this,arguments)}}()},90868:function(e,n){"use strict";n.Z=function(e,n,t,o){console.log("Error performing ".concat(t," in ").concat(n," at key - "),e,o)}},93225:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Fo}});var o=t(85893),r=t(67294),i=t(9473),a=t(3644),c=t(21605),l=t(9008),u=t(45867),s=t(88683),d=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.addAddressDialogOpen})),f=t(91068),v=t(7347),p=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.isAddressListUpdated})),h=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.isAddressUpdated})),m=t(99730),g=t(66410),_=t(83014),y=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.latitude})),b=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.longitude})),C=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){var n;return null===e||void 0===e||null===(n=e.thunkStatus)||void 0===n?void 0:n.placeDetails})),S=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.pickAddressDialogOpen})),I=t(74605),x=t(84093),N=t(11124),P=t(72389),w=t(13028),k=t(94792),E=t(40245),j=t(5152),A=(0,j.default)((function(){return t.e(5215).then(t.bind(t,25215)).then((function(e){return e.default}))}),{loadableGenerated:{webpack:function(){return[25215]}},ssr:!1}),O=(0,j.default)((function(){return Promise.all([t.e(3854),t.e(699),t.e(165)]).then(t.bind(t,60165)).then((function(e){return e.default}))}),{loadableGenerated:{webpack:function(){return[60165]}},ssr:!1}),T=(0,j.default)((function(){return Promise.all([t.e(3854),t.e(699),t.e(37)]).then(t.bind(t,10037)).then((function(e){return e.default}))}),{loadableGenerated:{webpack:function(){return[10037]}},ssr:!1}),L=function(e){var n=e.ua,t=e.isPaymentPage,i=(0,c.T)(),a=(0,N.x)(),l=(0,c.C)(d),s=(0,c.C)(f.Z),j=(0,c.C)(v.Z),L=(0,c.C)(I.Z),U=(0,c.C)(p),D=(0,c.C)(h),R=(0,c.C)(m.w5),Z=(0,c.C)(g.Z),M=(0,c.C)(_.Z),F=(0,c.C)(y),Y=(0,c.C)(b),B=(0,c.C)(C),G=(0,c.C)(S),H=(0,c.C)(k.Z),V=L||"",q=(null===s||void 0===s?void 0:s.length)>0;return(0,r.useEffect)((function(){!D&&U&&function(){if(V)try{i((0,x.ZS)(!0)),U&&function(e,n){var t=(null===e||void 0===e?void 0:e.find((function(e){return e.id===n})))||null;if(t){var o=t.zipcode,r=void 0===o?"":o,a=t.city,c=void 0===a?"":a,l=t.state,u=void 0===l?"":l,s=t.latitude,d=t.longitude;localStorage.setItem("pharmaPincode",r),i((0,x.bJ)({city:c,country:"",latitude:s,longitude:d,pincode:r,state:u})),i((0,x.xt)(t.id))}else i((0,x.xt)(""));i((0,x.SR)(!0))}(R,Z)}catch(e){i((0,x.xt)("")),console.error("UPDATING PATIENT ADDRESS FAILED",e)}finally{i((0,x.ZS)(!1))}}()}),[D,U,V,Z,R]),(0,r.useEffect)((function(){i((0,x.f_)(t))}),[t]),(0,r.useEffect)((function(){!U&&V&&i((0,P.Z)({apolloClient:a,patientId:V}))}),[U,V]),(0,r.useEffect)((function(){Z||(0,w.yb)(H)}),[Z,H]),(0,r.useEffect)((function(){B===E.g.fulfilled&&(i(V?(0,u.mY)({address:{zipcode:M,coordinate:{latitude:F,longitude:Y}}}):(0,x.ZS)(!1)),i((0,x.UY)(E.g.idle)))}),[V,M,F,Y,B]),(0,r.useEffect)((function(){(null===j||void 0===j?void 0:j.pincode)&&localStorage.setItem("pharmaAddressDetails",JSON.stringify(j))}),[j]),(0,r.useEffect)((function(){i((0,x.m$)(!1))}),[]),(0,r.useEffect)((function(){G&&(i((0,x.Ql)(!1)),i((0,x.XR)("")))}),[G]),(0,o.jsxs)(o.Fragment,{children:[e.children,G&&(0,o.jsx)(A,{open:G,closePickAddressDialog:function(){i((0,x.cf)(!1))}}),l&&(0,o.jsx)(O,{open:l,ua:n}),q&&(0,o.jsx)(T,{open:q,ua:n})]})},U=t(23908),D=t(92885),R=t(88865),Z=t(11163),M=t(28078),F=t.n(M),Y=t(95335),B=t(67139),G=t(34051),H=t.n(G),V=t(15306),q=t(22674),J=t(991),W=t(64238),z=t(33424),K=t(11349),Q=t(59379),$=t(83371),X=t(22652),ee=t(33394),ne=t(73637),te=t(84069),oe=t(42078),re=t(99210),ie=t(6786),ae=t(26961),ce=t(18645),le=t(50344),ue=t(79945),se=function(e){var n=e.physicalPrescriptionsToUpload,t=e.currentPatient,o=e.serverPrescriptions,r=e.apolloClient,i=(null===t||void 0===t?void 0:t.id)||"";return Promise.all(n.filter((function(e){var n=e.fileUrl;return!o.filter((function(e){return e.fileUrl})).map((function(e){return e.fileUrl})).includes(n)})).map((function(e){var n,t=e.baseFormat,o=e.fileType,a=null===(n=null===t||void 0===t?void 0:t.split(";base64,"))||void 0===n?void 0:n[1];return r.mutate({mutation:ue.VU,fetchPolicy:"no-cache",variables:{UploadDocumentInput:{base64FileInput:a,category:te.rs.HealthChecks,fileType:"jpg"==o?te.vq.JPEG:"png"==o?te.vq.PNG:"pdf"==o?te.vq.PDF:te.vq.JPEG,patientId:i}}}).catch((function(e){throw e}))}))).catch((function(e){return console.error(e,"Uploading Prescriptions Failed"),Promise.reject([])}))};function de(e,n,t,o,r,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(o,r)}function fe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ve(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(n){fe(e,n,t[n])}))}return e}var pe,he=function(){var e,n=(e=H().mark((function e(n){var t,o,r,i,c,l,s,d,f,v,p,h,m,g,_,y;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.physicalPrescriptionsSelectedByUser,o=n.ePrescriptionsSelectedByUser,r=n.cartInputPayload,i=n.currentPatient,c=n.serverPrescriptions,l=n.apolloClient,s=(null===i||void 0===i?void 0:i.id)||"",!(null===t||void 0===t?void 0:t.length)&&!(null===o||void 0===o?void 0:o.length)||!s){e.next=14;break}return f=[],e.next=7,se({physicalPrescriptionsToUpload:t,currentPatient:i,serverPrescriptions:c,apolloClient:l});case 7:(null===(v=e.sent)||void 0===v?void 0:v.length)&&(p=v.filter((function(e){var n,t;return null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.uploadDocument)||void 0===t?void 0:t.status})).map((function(e){var n;return null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.uploadDocument})),h=(null===v||void 0===v?void 0:v.length)===(null===p||void 0===p?void 0:p.length),m=p.map((function(e,n){var o,r,a,c=e.fileId,l=e.filePath;return{prismFileId:c||"",appointmentId:"",fileUrl:h&&(null===t||void 0===t||null===(o=t[n])||void 0===o?void 0:o.fileUrl)||l||"",date:"",doctorName:"",medicineNames:[],medicineSku:[],forPatient:(null===i||void 0===i?void 0:i.firstName)||"",fileName:h&&(null===t||void 0===t||null===(r=t[n])||void 0===r?void 0:r.fileName)||"",fileType:h&&(null===t||void 0===t||null===(a=t[n])||void 0===a?void 0:a.fileType)||""}})),f=f.concat(m),h||a.Z.dispatch((0,u.AS)(le.u.PrescriptionUploadFailed))),(null===o||void 0===o?void 0:o.length)&&(g=o.filter((function(e){var n=e.prismFileId;return!c.filter((function(e){return e.prismFileId})).map((function(e){return e.prismFileId})).includes(n)})).map((function(e){return{prismFileId:e.prismFileId||"",fileUrl:e.fileUrl,appointmentId:e.appointmentId,date:e.date,doctorName:e.doctorName,forPatient:e.forPatient,medicineNames:e.medicineNames,medicineSku:e.medicineSku,fileName:"",fileType:""}})),f=f.concat(g)),_=[],(null===f||void 0===f?void 0:f.length)&&(_=f.map((function(e){return{fileUrl:(null===e||void 0===e?void 0:e.fileUrl)||"",prismFileId:(null===e||void 0===e?void 0:e.prismFileId)||"",appointmentId:(null===e||void 0===e?void 0:e.appointmentId)||"",uhid:(null===i||void 0===i?void 0:i.uhid)||"",meta:{createdAt:(null===e||void 0===e?void 0:e.date)||(new Date).toDateString(),doctorName:(null===e||void 0===e?void 0:e.doctorName)||"",fileName:(null===e||void 0===e?void 0:e.fileName)||"",fileType:(null===e||void 0===e?void 0:e.fileType)||"",medicineNames:(null===e||void 0===e?void 0:e.medicineNames)||[],medicineSku:(null===e||void 0===e?void 0:e.medicineSku)||[],patientName:(null===e||void 0===e?void 0:e.forPatient)||""}}}))),y=ve({},r,(null===_||void 0===_?void 0:_.length)&&{prescriptionDetails:_}),(null===(d=Object.keys(y))||void 0===d?void 0:d.length)&&a.Z.dispatch((0,u.mY)(y));case 14:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){de(i,o,r,a,c,"next",e)}function c(e){de(i,o,r,a,c,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),me=he,ge=t(82798);function _e(e,n,t){var o,r,i,a,c,l,u,s,d,f,v,p,h,m,g,_,y,b,C,S,I,x,N,P,w,k,E,j,A,O,T,L,U=n+t;return{title:U>0?{__typename:"CircleMessage",attribute:{__typename:"CircleMessageAttribute",amount:(null===e||void 0===e||null===(o=e.title)||void 0===o||null===(r=o.aboveCutOff)||void 0===r||null===(i=r.attribute)||void 0===i?void 0:i.amount)||U,symbol:(null===e||void 0===e||null===(a=e.title)||void 0===a||null===(c=a.aboveCutOff)||void 0===c||null===(l=c.attribute)||void 0===l?void 0:l.symbol)||"\u20b9"},template:(null===e||void 0===e||null===(u=e.title)||void 0===u||null===(s=u.aboveCutOff)||void 0===s?void 0:s.template)||pe.SAVINGS_TITLE}:{__typename:"CircleMessage",attribute:{__typename:"CircleMessageAttribute",amount:(null===e||void 0===e||null===(d=e.title)||void 0===d||null===(f=d.default)||void 0===f||null===(v=f.attribute)||void 0===v?void 0:v.amount)||30,symbol:(null===e||void 0===e||null===(p=e.title)||void 0===p||null===(h=p.default)||void 0===h||null===(m=h.attribute)||void 0===m?void 0:m.symbol)||"%"},template:(null===e||void 0===e||null===(g=e.title)||void 0===g||null===(_=g.default)||void 0===_?void 0:_.template)||pe.SAVINGS_TITLE},message:U>0?{__typename:"CircleMessage",attribute:{__typename:"CircleMessageAttribute",amount:(null===e||void 0===e||null===(y=e.message)||void 0===y||null===(b=y.aboveCutOff)||void 0===b||null===(C=b.attribute)||void 0===C?void 0:C.amount)||30,symbol:(null===e||void 0===e||null===(S=e.message)||void 0===S||null===(I=S.aboveCutOff)||void 0===I||null===(x=I.attribute)||void 0===x?void 0:x.symbol)||"%"},template:(null===e||void 0===e||null===(N=e.message)||void 0===N||null===(P=N.aboveCutOff)||void 0===P?void 0:P.template)||pe.SAVINGS_MESSAGE}:{__typename:"CircleMessage",attribute:{__typename:"CircleMessageAttribute",amount:(null===e||void 0===e||null===(w=e.message)||void 0===w||null===(k=w.default)||void 0===k||null===(E=k.attribute)||void 0===E?void 0:E.amount)||0,symbol:(null===e||void 0===e||null===(j=e.message)||void 0===j||null===(A=j.default)||void 0===A||null===(O=A.attribute)||void 0===O?void 0:O.symbol)||"%"},template:(null===e||void 0===e||null===(T=e.message)||void 0===T||null===(L=T.default)||void 0===L?void 0:L.template)||pe.NO_SAVINGS_MESSAGE}}}!function(e){e.NO_SAVINGS_TITLE="Unlimited Free delivery + Upto {symbol}{amount} Off",e.NO_SAVINGS_MESSAGE="Plans starting @50! Save 500+ every months with circle",e.SAVINGS_TITLE="Save extra {symbol}{amount} on this order",e.SAVINGS_MESSAGE="Free delivery + upto {amount}{symbol} cashback on all orders & more benefits"}(pe||(pe={}));var ye=t(9669),be=t.n(ye);function Ce(e,n,t,o,r,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(o,r)}function Se(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){Ce(i,o,r,a,c,"next",e)}function c(e){Ce(i,o,r,a,c,"throw",e)}a(void 0)}))}}function Ie(){return xe.apply(this,arguments)}function xe(){return(xe=Se(H().mark((function e(){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be().get(D.bJ);case 3:return n=e.sent.data,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var Ne=t(90868),Pe=t(87307),we=t(96129),ke=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.subscriptions}),(function(e){return null===e||void 0===e?void 0:e.circlePlansStatus})),Ee=t(72722);function je(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function Ae(e,n,t,o,r,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(o,r)}function Oe(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){Ae(i,o,r,a,c,"next",e)}function c(e){Ae(i,o,r,a,c,"throw",e)}a(void 0)}))}}function Te(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Le(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(n){Te(e,n,t[n])}))}return e}function Ue(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,i=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(o=t.next()).done)&&(i.push(o.value),!n||i.length!==n);a=!0);}catch(l){c=!0,r=l}finally{try{a||null==t.return||t.return()}finally{if(c)throw r}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return je(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return je(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var De=t.e(9483).then(t.t.bind(t,69483,23)).then((function(e){return e.default})),Re=function(){var e=(0,c.T)(),n=(0,N.x)(),t=(0,c.C)(I.Z),o=(0,c.C)(J.Z),i=(0,c.C)(oe.N9),a=(0,c.C)((function(e){return(0,W.XX)(e,t)})),l=(0,c.C)((function(e){var n;return null===e||void 0===e||null===(n=e.cart)||void 0===n?void 0:n.callRenewCart})),s=(0,c.C)(z.Z),d=(0,c.C)(K.Z),f=(0,c.C)(k.Z),p=(0,c.C)(Q.Z),h=(0,c.C)($.Z),m=(0,c.C)(X.jn),_=(0,c.C)(ee.Z),y=(0,c.C)(v.Z),b=(0,c.C)(g.Z),C=(0,c.C)((function(e){var n;return null===e||void 0===e||null===(n=e.cart)||void 0===n?void 0:n.fetchCartPollsLeft})),S=(0,c.C)(ne.Z),x=(0,c.C)(ke),P=(0,c.C)((function(e){var n;return null===e||void 0===e||null===(n=e.cart)||void 0===n?void 0:n.removedSKUs})),j=(0,c.C)((function(e){var n;return null===e||void 0===e||null===(n=e.cart)||void 0===n?void 0:n.isCartUpdated})),A=(0,r.useState)(!0),O=A[0],T=A[1],L=Ue((0,q.D)(V.nx),1)[0],U=(0,Z.useRouter)(),R=(a||{}).id,M=void 0===R?"":R;(null===p||void 0===p?void 0:p.length)>0&&p[p.length-1]||ce.l.LANDING;(0,r.useEffect)((function(){(0,w.mD)(a)}),[]),(0,r.useEffect)((function(){var t=(null===sessionStorage||void 0===sessionStorage?void 0:sessionStorage.getItem("prevPath"))||"",o=(null===sessionStorage||void 0===sessionStorage?void 0:sessionStorage.getItem("currentPath"))||"",r=t.includes("/login"),c=o.includes("/order-status");if(M&&!c&&(!(t===o)||r)){var l=function(e){var n=localStorage.getItem(e);return n?JSON.parse(n):[]}("cartItems"),s=localStorage.getItem("CIRCLEPlan")?JSON.parse(localStorage.getItem("CIRCLEPlan")):null,d=localStorage.getItem("removedSkuList")||"",f=d?d.split(","):[],v=(l||[]).map((function(e){return{medicineSKU:e.sku,quantity:e.quantity}})).concat((f||[]).map((function(e){return{medicineSKU:e,quantity:0}}))),p=Le({},(null===v||void 0===v?void 0:v.length)&&{medicineOrderCartLineItems:v},s&&{subscription:{subscriptionApplied:!0,circleAddedToCart:!0,planPurchaseDetails:{planId:te.eX.CIRCLEPlan,subPlanId:s.subPlanId}}});De.then((function(t){return t.getItem("prescriptions",(function(t){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t)(0,Ne.Z)("prescriptions","localForage","read",t);else{var c=null===r||void 0===r?void 0:r.filter((function(e){var n=e.baseFormat,t=e.fileUrl;return n&&t}));(null===c||void 0===c?void 0:c.length)?me({physicalPrescriptionsSelectedByUser:c,ePrescriptionsSelectedByUser:[],cartInputPayload:p,currentPatient:a,serverPrescriptions:i,apolloClient:n}):(null===(o=Object.keys(p))||void 0===o?void 0:o.length)&&e((0,u.mY)(p))}}))}))}}),[M]),(0,r.useEffect)((function(){var n=function(){var n=Oe(H().mark((function n(t){return H().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(null===t||void 0===t?void 0:t.patientId)&&O&&(T(!1),e((0,u.Ap)(E.g.pending)),L({variables:{cartInputDataV2:t}}).then((function(e){var n,t=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.saveCartV2;(0,we.q)(t,d,y,s,f)})).then((function(){e((0,u.Ap)(E.g.fulfilled)),localStorage.removeItem("cartItems")})).catch((function(n){e((0,u.Ap)(E.g.rejected)),console.error("Failed to sync server cart",n)})).finally((function(){e((0,u.mY)(null)),T(!0)})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();h&&M&&n(Le({},h,{patientId:M}))}),[h,M,O]),(0,ie.W)(C,(function(){return e((0,u.YJ)(0))}),D.qZ,(function(){return(0,Pe.u)({patientId:M,apolloClient:n,nonCartFlow:d,pharmaAddressDetails:y,whatsAppReminderSettings:s,customerCartPreferences:f})}),500,2),(0,r.useEffect)((function(){var t,o=function(e){if(!(null===sessionStorage||void 0===sessionStorage?void 0:sessionStorage.getItem("paymentInitiated")))return e.preventDefault(),e.returnValue="Are you sure you want to leave this page ?"},r=function(){null===sessionStorage||void 0===sessionStorage||sessionStorage.removeItem("renewCartOrderId"),(null===sessionStorage||void 0===sessionStorage?void 0:sessionStorage.getItem("paymentInitiated"))?null===sessionStorage||void 0===sessionStorage||sessionStorage.removeItem("paymentInitiated"):null===sessionStorage||void 0===sessionStorage||sessionStorage.setItem("renewCartOrderId",i)},i=(null===U||void 0===U||null===(t=U.query)||void 0===t?void 0:t.orderId)||"",a=U.asPath==="".concat(re.r.payMedicineJuspay(i)),c=null===sessionStorage||void 0===sessionStorage?void 0:sessionStorage.getItem("renewCartOrderId"),l=U.asPath.includes("/login");return a&&M&&(window.addEventListener("beforeunload",o,!1),window.addEventListener("unload",r,!1),U.events.on("routeChangeComplete",r),U.beforePopState((function(){return r(),!0}))),c&&M?e((0,u.Nz)(!0)):!l&&M&&(0,Pe.u)({patientId:M,apolloClient:n,nonCartFlow:d,pharmaAddressDetails:y,whatsAppReminderSettings:s,customerCartPreferences:f}),function(){a&&M&&(window.removeEventListener("beforeunload",o,!1),window.removeEventListener("unload",r,!1),U.events.off("routeChangeComplete",r),U.beforePopState((function(){return!0})))}}),[U.asPath,M,d]),(0,r.useEffect)((function(){(0,w.gf)(d)}),[d]),(0,r.useEffect)((function(){var t,o=null===sessionStorage||void 0===sessionStorage?void 0:sessionStorage.getItem("renewCartOrderId");o&&l&&M&&(e((0,u.Nz)(!1)),t=M,(0,Pe.u)({patientId:t,apolloClient:n,nonCartFlow:d,pharmaAddressDetails:y,whatsAppReminderSettings:s,customerCartPreferences:f}),null===sessionStorage||void 0===sessionStorage||sessionStorage.removeItem("renewCartOrderId"),null===sessionStorage||void 0===sessionStorage||sessionStorage.removeItem("isHCPreferred"))}),[M,l]),(0,r.useEffect)((function(){if(o!==ge.J.SIGNEDIN&&!d&&x===E.g.fulfilled){var n=function(){var n=Oe(H().mark((function n(){var t,o;return H().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ie();case 2:t=n.sent,(o=_e(t,D.ud,S))&&(e((0,Ee.sZ)(null===o||void 0===o?void 0:o.title)),e((0,Ee.kN)(null===o||void 0===o?void 0:o.message)));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}}),[o,d,S,x]),(0,r.useEffect)((function(){f&&localStorage.setItem("cartPreferences",(0,ae.compress)(JSON.stringify(f)))}),[f]),(0,r.useEffect)((function(){if(j){var n=JSON.stringify(m);(null===a||void 0===a?void 0:a.id)?(localStorage.setItem("".concat(a.id),n),localStorage.removeItem("cartItems")):localStorage.setItem("cartItems",n),m.length||(0,w.k3)(),e((0,u.mK)(n)),e((0,u.Q1)(!1))}}),[m,j]),(0,r.useEffect)((function(){if(_){var e=localStorage.getItem("pharmaCoupon");_.length&&_!==e?localStorage.setItem("pharmaCoupon",_):_.length||(0,w.k3)()}}),[_]),(0,r.useEffect)((function(){(null===y||void 0===y?void 0:y.pincode)&&localStorage.setItem("pharmaPincode",y.pincode)}),[y]),(0,r.useEffect)((function(){var n;if((null===a||void 0===a||null===(n=a.id)||void 0===n?void 0:n.length)>0){var t=localStorage.getItem("".concat(a.id));e((0,u.w0)(t?JSON.parse(t):[]))}}),[a]),(0,r.useEffect)((function(){localStorage.setItem("deliveryAddressId",b)}),[b]),(0,r.useEffect)((function(){var e=[];P.forEach((function(n){m.map((function(e){return e.sku})).includes(n)||e.push(n)})),localStorage.setItem("removedSkuList",e.join(","))}),[P,m])},Ze=(0,j.default)((function(){return t.e(2971).then(t.bind(t,22971))}),{loadableGenerated:{webpack:function(){return[22971]}},ssr:!1}),Me=function(e){var n=(0,Z.useRouter)(),t=(0,c.T)(),i=(0,c.C)(Y.Z),a=(0,c.C)(B.Z);Re(),(0,r.useEffect)((function(){a&&setTimeout((function(){t((0,u.AS)(""))}),R.Wy)}),[a]),(0,r.useEffect)((function(){var e=null===window||void 0===window?void 0:window.sessionStorage;if(e){var t=e.getItem("currentPath");e.setItem("prevPath",t),e.setItem("currentPath",n.asPath)}}),[n.asPath]);var l=!!a.length&&!i;return(0,o.jsxs)(o.Fragment,{children:[e.children,l&&(0,o.jsx)(Ze,{open:!!a.length&&!i,anchorEl:null,children:(0,o.jsx)("div",{className:F().successPopoverWindow,children:(0,o.jsxs)("div",{className:F().windowWrap,children:[(0,o.jsx)("div",{className:F().mascotIcon,children:(0,o.jsx)("img",{src:"".concat(D.Qr,"/images/ic-mascot.png"),alt:""})}),(0,o.jsxs)("div",{className:F().windowBody,children:[(0,o.jsx)(U.Typography,{component:"h4",children:"Dear Customer!"}),(0,o.jsx)("p",{children:(0,o.jsx)("span",{children:a})})]}),(0,o.jsx)("div",{className:F().actions,children:(0,o.jsx)(U.Button,{type:"submit",color:"primary",onClick:function(){t((0,u.AS)(""))},children:"Ok, Got It"})})]})})})]})},Fe=t(4032),Ye=t(10401),Be=t(16349),Ge=t(52845),He=t(93858),Ve=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.subscriptions}),(function(e){return null===e||void 0===e?void 0:e.userSubscriptionsUpdated})),qe=t(36866),Je=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.subscriptions}),(function(e){return null===e||void 0===e?void 0:e.subscriptionCartDetails})),We=t(74173),ze=t(13855),Ke=t(57143),Qe=function(e){e.forEach((function(e){var n=e.method,t=e.dependencies;(0,r.useEffect)((function(){n()}),t)}))},$e=function(){var e=(0,c.T)(),n=(0,N.x)(),t=(0,c.C)(J.Z),o=(0,c.C)(Ge.Z),r=((0,c.C)(I.Z),(0,c.C)(He.pZ)),i=(0,c.C)(Ve),a=(0,c.C)(qe.Z),l=(0,c.C)(Je),u=(0,c.C)(We.Z),s=(0,c.C)(Ke.Z),d=(0,c.C)(ze.Z),f=[{method:function(){e((0,Fe.Z)({apolloClient:n}))},dependencies:[]},{method:function(){d||e((0,Ye.Z)({apolloClient:n}))},dependencies:[s,d]},{method:function(){e((0,Ee.ME)(JSON.parse(localStorage.getItem("userSubscriptions")||null)))},dependencies:[i]},{method:function(){var n=!!Object.keys(a||{}).find((function(e){var n;return null===a||void 0===a||null===(n=a[e])||void 0===n?void 0:n.find((function(e){var n;return"active"===(null===e||void 0===e?void 0:e.status)&&"circle plan"===(null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.toLowerCase())}))}));e((0,Ee.cB)(n))},dependencies:[a]},{method:function(){if(t===ge.J.SIGNEDIN){if(!(null===l||void 0===l?void 0:l.circleAddedToCart)||l.userSubscriptionId)e((0,Ee.Ip)(""));else if(!(null===l||void 0===l?void 0:l.userSubscriptionId)&&r){var n=r.find((function(e){var n;return e.subPlanId===(null===l||void 0===l||null===(n=l.planPurchaseDetails)||void 0===n?void 0:n.subPlanId)}));n&&e((0,Ee.LA)(n))}e((0,Ee.Bo)(!!(null===l||void 0===l?void 0:l.subscriptionApplied)))}},dependencies:[l,r,t]},{method:function(){l&&r&&e((0,Ee.eX)(!0))},dependencies:[o,l]},{method:function(){!function(n){var t=function(e){n[e].filter((function(e){return"active"==(null===e||void 0===e?void 0:e.status)})).map((function(n){r.push("".concat(e,":").concat(null===n||void 0===n?void 0:n.plan_id))}))},r=[];for(var i in n)t(i);if(o){var a="APOLLO:".concat(o);r.push(a)}e((0,Ee.Iq)(r))}(a)},dependencies:[a,o]},{method:function(){u?(e((0,Ee.Ip)(null===u||void 0===u?void 0:u.subPlanId)),localStorage.setItem("CIRCLEPlan",JSON.stringify(u))):localStorage.removeItem("CIRCLEPlan"),t===ge.J.SIGNEDIN?e((0,Ee.Bo)(!!(null===l||void 0===l?void 0:l.subscriptionApplied))):e((0,Ee.Bo)(!!u))},dependencies:[u,l,t]},{method:function(){t===ge.J.SIGNEDIN&&e((0,Be.Z)({apolloClient:n}))},dependencies:[t]}];Qe(f)},Xe=function(e){return $e(),(0,o.jsx)(o.Fragment,{children:e.children})},en=t(92857),nn=t(44728),tn=t(41664),on=t(75397),rn=t(18998),an=t(63093),cn=t(15144),ln=t(88385),un=t(94153),sn=t(70954),dn=t.n(sn),fn=t(69274),vn=t(21810),pn=t(25424),hn=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.isPaymentPage})),mn=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.headerPincodeError})),gn=t(62745),_n=t(33342),yn=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.showPincodeModal})),bn=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){var n;return null===e||void 0===e||null===(n=e.thunkStatus)||void 0===n?void 0:n.currentLocation})),Cn=t(80034),Sn=t(44266),In=t(7972),xn=t(3320);function Nn(e,n,t,o,r,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(o,r)}function Pn(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){Nn(i,o,r,a,c,"next",e)}function c(e){Nn(i,o,r,a,c,"throw",e)}a(void 0)}))}}function wn(){return wn=Pn(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var t=(0,nn.tp)(),o=function(n){var t=n.latitude,o=n.longitude;a.Z.dispatch((0,xn.Z)({currentLat:t,currentLong:o})),e(!0)},r=function(e){console.error(e.message),n(!0)};t!==nn.uc.PHONEPE_SWITCH?t!==nn.uc.PAYTM_MINIAPP?navigator.geolocation.getCurrentPosition((function(e){var n=e.coords,t=n.latitude,r=n.longitude;o({latitude:t,longitude:r})}),(function(e){r(e)}),ln.yp):(0,Sn.UZ)(o,r):(0,In.o)(o,r)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),wn.apply(this,arguments)}var kn=t(24477),En=(0,j.default)((function(){return t.e(6698).then(t.bind(t,56698)).then((function(e){return e.default}))}),{loadableGenerated:{webpack:function(){return[56698]}},ssr:!1}),jn=(0,j.default)((function(){return t.e(2413).then(t.bind(t,82413)).then((function(e){return e.default}))}),{loadableGenerated:{webpack:function(){return[82413]}},ssr:!1}),An=function(e){var n=e.paymentPage,t=e.patientName;return(0,o.jsx)("span",{className:"".concat(dn().textEllipses," ").concat(dn().displayInlineBlk," ").concat(n?dn().noEllipses:""),children:t?"".concat(n?"Delivering":"Deliver"," to ").concat(t):"Hello,"})},On=function(e){var n=e.paymentPage,t=e.city,r=e.zipcode;return r||t?(0,o.jsx)(U.Typography,{className:"".concat(dn().textEllipses," ").concat(n?dn().noEllipses:""),children:"".concat(t||""," ").concat(r||"...")}):!n&&(0,o.jsx)(U.Typography,{children:"Select your location"})},Tn=function(e){var n=e.isMobile,t=e.pathname,i=e.miniAppUser,a=(0,r.useState)((function(){return function(){if((0,cn.j)()){var e=!localStorage.getItem("pharmaPincode");if(!sessionStorage.getItem("userVisitedBefore"))return sessionStorage.setItem("userVisitedBefore","yes"),e}return!1}()})),l=a[0],u=a[1],s=(0,c.C)(vn.Z),d=(0,c.C)(Q.Z),f=(0,c.C)(hn),p=(0,c.C)(mn),h=(0,c.C)(_.Z),m=(0,c.C)(gn.Z),g=(0,c.C)(v.Z),y=(0,c.C)(pn.Z),b=(0,c.C)(_n.Z),S=(0,c.C)(yn),I=(0,c.C)(C),N=(0,c.C)(bn),P=(0,c.C)((function(e){var n;return null===e||void 0===e||null===(n=e.cart)||void 0===n?void 0:n.medicineOrderAddressDetails})),w=(0,c.T)(),k=(null===d||void 0===d?void 0:d.length)>0&&d[d.length-1]||on.l.LANDING,j=t===re.r.medicinesCart()&&[on.l.PRESCRIPTION].includes(k),A=(0,r.useState)(null),O=A[0],T=A[1],L=(0,r.useState)(""),D=L[0],R=L[1],Z=(0,r.useState)(!1),M=Z[0],F=Z[1],Y=(0,r.useState)(!0),B=Y[0],G=Y[1],H=(0,r.useState)(""),V=H[0],q=H[1],J=(0,r.useState)(!1),W=J[0],z=J[1],K=(0,r.useState)(!1),$=K[0],X=K[1],ee=(0,r.useState)(!1),ne=ee[0],te=ee[1],oe=function(e){(0,un.Zi)(e===fn.R.AUTO?h:D).then((function(n){n.serviceable?(w((0,x.PJ)(!1)),w((0,x.bO)(!1)),w((0,x.ct)(!0)),e===fn.R.MANUAL?w((0,Cn.Z)({address:D})):w((0,x.UY)(E.g.fulfilled))):(w((0,x.ct)(!1)),w((0,x.bO)(!0)),w((0,x.ZS)(!1)))})).catch((function(e){console.error("Serviceability API failed",e),z(!0),q("Location is not serviceable :("),w((0,x.ct)(!1)),w((0,x.ZS)(!1))})).finally((function(){F(!1),u(!1),te(!1)}))},ie=(0,r.useCallback)((function(e){w((0,x.ZS)(!0)),function(){return wn.apply(this,arguments)}().then((function(e){e&&((0,kn.Iw)(y),G(!1))})).catch((function(e){te(!1),e&&(console.error("Geolocation API could not fetch current location"),z(!0),q("Current Location not detected :(")),w((0,x.ZS)(!1))}))}),[]),ae=(0,r.useCallback)((function(e){w((0,x.PJ)(!0)),u(!1)}),[]),ce=(0,r.useCallback)((function(e){u(!1),w((0,x.cf)(!0))}),[n]),le=(0,r.useCallback)((function(){u(!1)}),[]);(0,r.useEffect)((function(){var e=(0,an.eY)("pincode");e&&(w((0,x.bO)(!1)),R(e),X(!0))}),[]),(0,r.useEffect)((function(){$&&D&&(ue(),X(!1))}),[D,$]),(0,r.useEffect)((function(){I===E.g.rejected&&(z(!0),q("Something went wrong :("),w((0,x.UY)(E.g.idle)))}),[I]),(0,r.useEffect)((function(){B||(N===E.g.rejected?(console.error("Geolocation API could not fetch current location"),z(!0),q("Current Location not detected :("),G(!0),w((0,x.ZS)(!1)),te(!1)):N===E.g.fulfilled&&(T("Location detected and updated"),G(!0),w((0,x.bO)(!1)),oe(fn.R.AUTO)))}),[N,B]),(0,r.useEffect)((function(){W&&(0,an.Rb)("location search")}),[W]);var ue=(0,r.useCallback)((function(){(0,kn.Iw)(y),F(!0),w((0,x.ZS)(!0)),oe(fn.R.MANUAL)}),[D]);(0,r.useEffect)((function(){setTimeout((function(){le()}),ln.Bv)}),[]);var se=function(){(0,cn.j)()&&(window.scrollY>50&&le())};return(0,r.useEffect)((function(){return(0,cn.j)()&&window.addEventListener("scroll",se,!1),function(){window.removeEventListener("scroll",se,!1)}}),[]),(0,r.useEffect)((function(){var e=localStorage.getItem("pharmaAddressDetails"),n=e?JSON.parse(e):null;(null===n||void 0===n?void 0:n.pincode)||ie(null)}),[]),(0,o.jsxs)(o.Fragment,{children:[ne&&(0,o.jsx)("div",{className:dn().greyBackground}),(0,o.jsxs)("div",{className:"".concat(dn().locationContainer," ").concat(i?dn().miniAppUser:""),children:[(0,o.jsxs)("div",{className:"".concat(f?dn().locationPay:dn().location," ").concat(l?dn().active:""),onClick:function(){u(!l)},children:[(0,o.jsxs)("div",{className:dn().selectLocation,children:[(0,o.jsx)(An,{paymentPage:f,patientName:f?(null===P||void 0===P?void 0:P.name)||"":(null===b||void 0===b?void 0:b.name)||(null===s||void 0===s?void 0:s.firstName)||""}),(0,o.jsx)(On,{paymentPage:f,city:f?(null===P||void 0===P?void 0:P.city)||"":(null===g||void 0===g?void 0:g.city)||m,zipcode:f?(null===P||void 0===P?void 0:P.zipcode)||"":(null===g||void 0===g?void 0:g.pincode)||h})]}),p&&(0,o.jsx)("div",{className:dn().noService,children:"Sorry, not serviceable here."}),l&&!f?(0,o.jsx)(U.ClickAwayListener,{onClickAway:le,children:(0,o.jsxs)("div",{className:"".concat(dn().locationContent," ").concat(j?dn().disableLocationUpdate:""),children:[(0,o.jsxs)("div",{className:dn().currentLocation,onClick:ie,children:[(0,o.jsx)(rn.s,{src:"".concat(ln.Qr,"/images/ic_gps.svg"),alt:"location"}),(0,o.jsx)(U.Typography,{children:"Use my current location"})]}),(0,o.jsx)("div",{className:dn().divider,children:(0,o.jsx)(U.Typography,{children:"or"})}),(0,o.jsxs)("div",{className:dn().pincodeOption,onClick:ae,children:[(0,o.jsx)("span",{className:dn()["icon-ic_location"]}),(0,o.jsx)(U.Typography,{children:h?"Update pincode (".concat(h,")"):"Enter delivery pincode"})]}),s&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:dn().divider,children:(0,o.jsx)(U.Typography,{children:"or"})}),(0,o.jsxs)("div",{className:dn().pincodeOption,onClick:ce,children:[(0,o.jsx)("span",{className:dn()["icon-ic_location"]}),(0,o.jsx)(U.Typography,{children:"Choose saved address"})]})]})]})}):null]}),S&&(0,o.jsx)(jn,{headerPincodeError:p,showPincodeModal:S,closePincodeModal:function(){w((0,x.PJ)(!1)),w((0,x.bO)(!1))},updatePincode:function(e){w((0,x.bO)(!1)),R(e.target.value)},keyPressPincode:function(e){var n="Enter"===e.key;!n&&isNaN(parseInt(e.key,10))?e.preventDefault():n&&(null===D||void 0===D?void 0:D.length)===an.Zm&&ue()},pincode:D,submitPincode:ue,mutationLoading:M})]}),W&&(0,o.jsx)(En,{setAlertMessage:q,alertMessage:V,isAlertOpen:W,setIsAlertOpen:z}),(0,o.jsx)(U.Alerts,{placement:"top",open:!!O,severity:"success",message:O,onClick:function(){T(null)},autoHide:1e4})]})},Ln=t(58053),Un=t(10176),Dn=t.n(Un),Rn=ln.iK.slice(0,8),Zn=[{menuItem:"Login",menuIcon:Dn()["icon-ic_account"],targetUrl:re.r.signIn("/"),displayMode:[0],largeText:!1,genrateIcon:!1,pathNameLink:""},{menuItem:"My Account",menuIcon:Dn()["icon-ic_account"],menuSubTitle:"",targetUrl:re.r.myAccount(),displayMode:[1],largeText:!1,genrateIcon:!1,pathNameLink:""},{menuItem:"Consult",menuIcon:Dn()["icon-ic-consult"],targetUrl:"".concat(ln.en).concat(re.r.appointments()),displayMode:[1],largeText:!1,genrateIcon:!1,pathNameLink:""},{menuItem:"Consult",menuIcon:Dn()["icon-ic-consult"],menuSubTitle:"Consult Online",targetUrl:"".concat(ln.en).concat(re.r.specialityListing()),displayMode:[0],largeText:!1,genrateIcon:!1,pathNameLink:""},{menuItem:"Pharmacy",menuIcon:Dn()["icon-ic_medicines"],menuSubTitle:"Medicines & other products",targetUrl:re.r.welcome(),displayMode:[0,1],largeText:!0,genrateIcon:!1,pathNameLink:""},{menuItem:"Lab Tests",menuIcon:Dn()["icon-ic_tests"],menuSubTitle:"Health check-ups",targetUrl:"".concat(ln.en).concat(re.r.tests()),displayMode:[0,1],largeText:!1,genrateIcon:!1,pathNameLink:""},{menuItem:"Health Records",menuIcon:Dn()["icon-ic_myhealth"],targetUrl:"".concat(ln.en).concat(re.r.healthRecords("")),displayMode:[1],largeText:!1,genrateIcon:!0,pathNameLink:"iconPathsMyhealth"},{menuItem:"Blog",menuIcon:Dn()["icon-ic_covid"],menuSubTitle:"Latest Updates",targetUrl:re.r.covidLanding(),displayMode:[0],largeText:!1,genrateIcon:!0,pathNameLink:"iconPathsCovid"}],Mn=function(e){var n=(0,c.C)(J.Z),t=(0,r.useState)(null),i=(t[0],t[1]),a=e.query,l=e.pathname,u=e.isMobile&&"/login"===l;(0,r.useEffect)((function(){var e=(0,an.eY)("utm_source"),t=(0,an.eY)("t");if(n===ge.J.SIGNEDIN){t&&(t=encodeURIComponent(t));var o=e&&t?"?utm_source=".concat(e,"&t=").concat(t):null;i(o)}}),[n]);var s=function(e,t){var r,i;return(0,o.jsx)("li",{className:"".concat((null===e||void 0===e||null===(r=e.displayMode)||void 0===r?void 0:r.includes(0))&&e.largeText?Dn().addOn:"","\n            ").concat((null===e||void 0===e||null===(i=e.displayMode)||void 0===i?void 0:i.includes(1))&&n===ge.J.SIGNEDIN?Dn().menuTitle:"","\n            ").concat(e.targetUrl===l?Dn().active:"","\n            "),children:(0,o.jsxs)("a",{href:e.targetUrl,children:[e.genrateIcon?(0,o.jsx)(Ln.e,{pathName:Rn,iconClass:"".concat(e.menuIcon," ").concat(Dn().menuicon)}):(0,o.jsx)("i",{className:"".concat(e.menuIcon," ").concat(Dn().menuicon)}),(0,o.jsx)("p",{children:(null===a||void 0===a?void 0:a.hasOwnProperty("variant"))&&e.menuItem===an.vc.PHARMACY?an.vc.MEDICINE:e.menuItem}),n===ge.J.SIGNEDOUT&&(0,o.jsx)("span",{className:Dn().subTitle,children:e.menuSubTitle})]})},t)};return(0,nn.hZ)((0,nn.tp)())||u?null:(0,o.jsxs)("ul",{className:Dn().navigationList,children:[n===ge.J.SIGNEDIN&&Zn.filter((function(e){var n;return null===e||void 0===e||null===(n=e.displayMode)||void 0===n?void 0:n.includes(1)})).map((function(e,n){return s(e,n)})),(n===ge.J.SIGNEDOUT||n===ge.J.UNRESOLVED)&&Zn.filter((function(e){var n;return null===e||void 0===e||null===(n=e.displayMode)||void 0===n?void 0:n.includes(0)})).map((function(e,n){return s(e,n)}))]})},Fn=t(15549),Yn=t.n(Fn);var Bn=(0,j.default)((function(){return t.e(2804).then(t.bind(t,42804)).then((function(e){return e.default}))}),{loadableGenerated:{webpack:function(){return[42804]}},ssr:!1}),Gn=function(e){var n=e.ua,t=void 0===n?null:n,r=e.isPDPPage,i=void 0!==r&&r,a=(0,c.C)(J.Z),l=(0,c.C)(X.jn),s=(0,c.C)(hn),d=(0,Z.useRouter)(),f=d.query,v=Boolean(null===t||void 0===t?void 0:t.isMobile),p=(0,c.T)(),h=(0,nn.hZ)((0,nn.tp)()),m=!v||h;return function(e,n){return[{path:"/medicines-cart",mobile:!0,desktop:!1},{path:"/orders",mobile:!0,desktop:!1},{path:"/brands",mobile:!0,desktop:!1},{path:"/shop-by",mobile:!1,desktop:!1},{path:"/medicine-prescription",mobile:!0,desktop:!1},{path:"/medical-stores",mobile:!0,desktop:!0},{path:"/otc",mobile:!1,desktop:!1},{path:"/mockPay",mobile:!0,desktop:!0},{path:"/return-request",mobile:!0,desktop:!1}].filter((function(e){var t=e.mobile,o=e.desktop;return n?t:o})).findIndex((function(n){var t=n.path;return new RegExp(t,"i").test(e)}))>=0}(d.asPath,v)?null:(0,o.jsx)("header",{id:"fixedHeaderCT",className:Yn().header,children:(0,o.jsx)("div",{className:"container",children:(0,o.jsxs)("div",{className:"".concat(Yn().headerContent," ").concat(h?Yn().miniAppUser:""),children:[(0,o.jsxs)("div",{className:Yn().logoWrapper,children:[(0,o.jsx)("h1",{children:(0,o.jsx)(tn.default,{href:re.r.welcome(),prefetch:!1,children:(0,o.jsx)("a",{className:Yn().logo,children:(0,o.jsx)("img",{src:"".concat(D.Qr,"/images/pharmacy_logo.svg"),title:"Online Doctor Consultation & Medicines",alt:"Online Doctor Consultation & Medicines",width:"100%",height:"100%"})})})}),(0,o.jsx)(Tn,{isMobile:v,pathname:d.pathname,miniAppUser:h})]}),!s&&(0,o.jsxs)("div",{className:Yn().menuContainer,children:[(0,o.jsx)("div",{className:Yn().specialOffer,children:v&&(0,o.jsx)(o.Fragment,{children:i?(0,o.jsx)("button",{type:"button",className:Yn().searchBtn,onClick:function(){return p((0,u.wz)(!0))},children:(0,o.jsx)("i",{className:"icon-ic-search"})}):(0,o.jsx)(tn.default,{href:re.r.specialOffers(),prefetch:!1,children:(0,o.jsx)("a",{children:(0,o.jsx)("span",{className:"icon-offer-icon"})})})})}),(0,o.jsx)(Mn,{query:f,isMobile:v,pathname:d.pathname}),(0,o.jsxs)("div",{className:Yn().cartContainer,children:[(0,o.jsx)("span",{className:"icon-ic_cart",onClick:function(){return d.push(d.asPath.includes("/deal")?"".concat(re.r.medicinesCart(),"?source=Deal page"):re.r.medicinesCart())}}),(0,o.jsx)("span",{className:Yn().badge,children:l.length||0})]}),m&&(0,o.jsx)("div",{className:Yn().userOptions,children:a===ge.J.SIGNEDIN?(0,o.jsx)(Bn,{}):(0,o.jsx)(en.L,{children:function(e){var n=e.protectWithLoginRedirection;return(0,o.jsx)("span",{className:Yn().userCircle,onClick:function(){n()},children:(0,o.jsx)("i",{className:"icon-ic_account_white"})})}})})]})]})})})},Hn=t(26006),Vn=t(72174),qn=t.n(Vn),Jn=ln.iK.slice(0,3),Wn=ln.iK.slice(0,5),zn=ln.iK.slice(0,7),Kn=function(e){var n=e.footerData,t=e.isMobile,i=[];n&&(i=Object.keys(n));var a=(0,Z.useRouter)(),c=(0,r.useState)(""),l=c[0],u=c[1],s=(0,r.useState)(!1),d=s[0],f=s[1];return(0,r.useEffect)((function(){f(t)}),[]),(0,nn.hZ)((0,nn.tp)())?null:(0,o.jsx)("footer",{children:(0,o.jsx)("div",{className:"container",children:(0,o.jsxs)("div",{className:qn().footerContent,children:[(0,o.jsx)("div",{className:qn().accordionContainer,children:i&&i.map((function(e,t){var r="".concat(e,"-").concat(t),i=!d||l===r;return(0,o.jsxs)("div",{className:qn().accordion,children:[(0,o.jsxs)("div",{className:qn().accordionHeader,onClick:function(){return d&&u(l===r?"":r)},children:[(0,o.jsx)("h2",{className:qn().title,children:a.query.hasOwnProperty("variant")&&(null===e||void 0===e?void 0:e.includes(an.vc.PHARMACY))?e.replace(an.vc.PHARMACY,an.vc.MEDICINE):e}),(0,o.jsx)("span",{className:"".concat(qn().expandIcon," ").concat(i?qn().active:"")})]}),(0,o.jsx)("div",{className:"".concat(i?qn().accordionBody:qn().displayNone),children:(0,o.jsx)("ul",{className:qn().footerLinks,children:n[e].map((function(e){var n;return e?(0,o.jsx)("li",{children:(0,o.jsx)("a",{className:qn().innerLinks,href:e.url,target:"_blank",rel:"noopener noreferrer",children:a.query.hasOwnProperty("variant")&&(null===e||void 0===e||null===(n=e.title)||void 0===n?void 0:n.includes(an.vc.PHARMACY))?e.title.replace(an.vc.PHARMACY,an.vc.MEDICINE):e.title})},e.title):null}))})})]},r)}))}),(0,o.jsxs)("div",{className:qn().footerLinksWrap,children:[(0,o.jsx)("div",{className:qn().footerLogo,children:(0,o.jsx)(tn.default,{href:"/",prefetch:!1,children:(0,o.jsx)("a",{children:(0,o.jsx)(rn.s,{src:"".concat(ln.Qr,"/images/apollopharmacy/logo.svg"),alt:"Online Doctor Consultation & Medicines",style:{width:"100px",height:"90px"}})})})}),(0,o.jsxs)("div",{className:qn().socialLinkContainer,children:[!d&&(0,o.jsx)("h2",{className:qn().title,children:"Find Us"}),(0,o.jsxs)("ul",{className:qn().socialLink,children:[(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:"https://www.facebook.com/ApolloPharmacy",target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)("span",{className:"icon-Facebook"})})}),(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:"https://twitter.com/ApolloPharmacy",target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)("span",{className:"icon-twitter-6"})})}),(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:ln.at,target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)("span",{className:"icon-Linkedin"})})}),(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:"https://www.youtube.com/user/ApolloPharmacy",target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(Ln.e,{pathName:Jn,iconClass:"icon-youtube-icon"})})})]})]}),(0,o.jsxs)("div",{className:qn().downloadAppContainer,children:[!d&&(0,o.jsx)("h2",{className:qn().title,children:"Get Apollo Mobile App"}),(0,o.jsxs)("ul",{className:qn().appLinks,children:[(0,o.jsx)("li",{onClick:Hn.VV,children:(0,o.jsx)("a",{href:"https://play.google.com/store/apps/details?id=com.apollo.patientapp&hl=en_IN",target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(Ln.e,{pathName:Wn,iconClass:"icon-google-play-btn"})})}),(0,o.jsx)("li",{onClick:Hn.VV,children:(0,o.jsx)("a",{href:"https://apps.apple.com/in/app/apollo-247/id1496740273",target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(Ln.e,{pathName:zn,iconClass:"icon-ios-app-btn"})})})]})]})]})]})})})},Qn=t(91555),$n=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.auth}),(function(e){return null===e||void 0===e?void 0:e.miniAppErrorCode})),Xn=t(52951),et=function(e){var n=(0,c.T)(),t=(0,c.C)(J.Z),i=(0,c.C)($n),a=(0,r.useState)((0,Sn.rZ)(i)),l=a[0],u=a[1],s=-1===i?"Consent is mandatory to proceed":-2===i?"Login in Paytm to Proceed with the Flow":"";return(0,r.useEffect)((function(){u((0,Sn.rZ)(i))}),[i]),(0,o.jsx)(o.Fragment,{children:i?(0,o.jsx)(U.Modal,{open:l,title:s,size:"sm",handleOpen:u,children:(0,o.jsxs)("div",{children:[(0,o.jsx)(U.Button,{onClick:function(){var e,o=null===window||void 0===window||null===(e=window.location)||void 0===e?void 0:e.pathname;u(!1),n((0,Xn.IK)(0)),(0,Qn.Z)(o,t)},color:"primary",children:"Proceed"}),(0,o.jsx)(U.Button,{onClick:Sn.Go,color:"secondary",children:"Exit"})]})}):""})},nt=function(e){var n=(0,nn.tp)();return(0,o.jsx)(o.Fragment,{children:n===nn.uc.PAYTM_MINIAPP&&(0,o.jsx)(et,{})})},tt=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.prescriptions}),(function(e){return null===e||void 0===e?void 0:e.prescriptionUploaded})),ot=t(60893),rt=t(78616),it=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.prescriptions}),(function(e){return null===e||void 0===e?void 0:e.updatedEPrescription})),at=t(23497),ct=t(78067);function lt(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function ut(e){return function(e){if(Array.isArray(e))return lt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return lt(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lt(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var st=t.e(9483).then(t.t.bind(t,69483,23)).then((function(e){return e.default})),dt=function(){var e=(0,c.T)(),n=(0,N.x)(),t=(0,c.C)(vn.Z),o=(0,c.C)(tt),i=(0,c.C)(ot.gN),a=(0,c.C)(rt.MC),l=(0,c.C)(it),u=(0,c.C)(oe.N9);(0,r.useEffect)((function(){var r,c,s=(null===t||void 0===t?void 0:t.id)||"";if((null===o||void 0===o||null===(r=o.fileName)||void 0===r?void 0:r.length)&&!s&&i){var d=ut(i).concat([o]);e((0,at.wC)(d)),e((0,at.eO)(ct.$))}if(a&&l&&!s&&(st.then((function(e){return e.setItem("ePrescriptionData",a,(function(e){e&&(0,Ne.Z)("ePrescriptionData","localForage","write",e)}))})),e((0,at.cm)(!1))),s&&((null===o||void 0===o||null===(c=o.fileName)||void 0===c?void 0:c.length)||l)){var f=[o].filter((function(e){var n=e.baseFormat,t=e.fileUrl;return n&&t})),v=a.filter((function(e){return e.fileUrl}));me({physicalPrescriptionsSelectedByUser:f,ePrescriptionsSelectedByUser:v,cartInputPayload:null,currentPatient:t,serverPrescriptions:u,apolloClient:n}),e((0,at.eO)(ct.$)),e((0,at.cm)(!1))}}),[o,a,l,t])},ft=function(e){return dt(),(0,o.jsx)(o.Fragment,{children:e.children})},vt=t(91322),pt=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.auth}),(function(e){return null===e||void 0===e?void 0:e.ssoToken})),ht=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.auth}),(function(e){return null===e||void 0===e?void 0:e.userConsent})),mt=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.auth}),(function(e){return null===e||void 0===e?void 0:e.consentAuthData})),gt=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.auth}),(function(e){return null===e||void 0===e?void 0:e.tokenRefresh})),_t=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.auth}),(function(e){return null===e||void 0===e?void 0:e.tokenRecievedFetchPatients})),yt=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.auth}),(function(e){return null===e||void 0===e?void 0:e.newUser})),bt=t(28951),Ct=t(82694),St=t(77243),It=t(46495),xt=t(74153),Nt=t(98825),Pt=t(29030),wt=t(48702),kt=t(48216);function Et(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function jt(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function At(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(n){jt(e,n,t[n])}))}return e}function Ot(e){return function(e){if(Array.isArray(e))return Et(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return Et(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Et(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Tt={},Lt=new wt.i((function(e,n){return new kt.y((function(t){var o,r=e.getContext(),i=n(e).subscribe({next:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(o=t).next.apply(o,Ot(n))},error:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var r;a(),(r=t).error.apply(r,Ot(n))},complete:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var r;a(),(r=t).complete.apply(r,Ot(n))}}),a=function(){null===i||void 0===i||i.unsubscribe(),delete Tt[r.requestTrackerId]};if(r.requestTrackerId){var c,l=new AbortController;if(l.signal.onabort=a,e.setContext(At({},r,{fetchOptions:At({signal:l.signal},null===r||void 0===r?void 0:r.fetchOptions)})),Tt[r.requestTrackerId])null===(c=Tt[r.requestTrackerId])||void 0===c||c.abort();Tt[r.requestTrackerId]=l}return i}))}));function Ut(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Dt(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Rt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(n){Dt(e,n,t[n])}))}return e}var Zt="development"!==D.lC&&"test"!==D.lC&&"production"!==D.lC,Mt="development"===D.lC,Ft=function(){function e(n,t,o,r){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.buildApolloClient(n,t,o,r)}var n,t,o;return n=e,t=[{key:"buildApolloClient",value:function(e,n,t,o){var r=(0,Pt.q)((function(e){var n=e.graphQLErrors,t=e.operation,r=e.forward;return(Zt||Mt)&&console.error(e),n&&n.some((function(e){var n;return"UNAUTHENTICATED"===(null===(n=e.extensions)||void 0===n?void 0:n.code)}))&&o(),r(t)})),i=(0,Nt.v)((function(n,t){return{headers:Rt({},t.headers,{Authorization:e||D.L$})}})),a=(0,Ct.L)({uri:D.zt}),c=(0,St.D)([Lt,r,i,a]),l=this.getClient(),u=l?l.cache:new It.h;this.apolloClient=new xt.f({link:c,cache:u}),e&&!n&&t()}},{key:"getClient",value:function(){return this.apolloClient}}],o=[{key:"updateAuthToken",value:function(e){this.authToken=e}},{key:"updateTokenRefresh",value:function(e){this.tokenRefresh=e}},{key:"createInstance",value:function(n,t,o,r){this.gqlClient=new e(n,t,o,r)}},{key:"getInstance",value:function(e,n,t,o){return this.gqlClient&&this.authToken===e&&this.tokenRefresh===n||(this.updateAuthToken(e),this.updateTokenRefresh(n),this.createInstance(e,n,t,o)),this.gqlClient}}],t&&Ut(n.prototype,t),o&&Ut(n,o),e}();Ft.gqlClient=null,Ft.authToken="",Ft.tokenRefresh=!1;var Yt=Ft,Bt=t(28343),Gt=t(65534);function Ht(e,n,t,o,r,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(o,r)}function Vt(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){Ht(i,o,r,a,c,"next",e)}function c(e){Ht(i,o,r,a,c,"throw",e)}a(void 0)}))}}function qt(e){return Jt.apply(this,arguments)}function Jt(){return Jt=Vt(H().mark((function e(n){var t,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.apolloClient,o=n.mobileNumber,e.next=3,t.query({query:ue.C1,variables:{mobileNumber:o},fetchPolicy:"no-cache"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Jt.apply(this,arguments)}function Wt(e,n,t,o,r,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(o,r)}function zt(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){Wt(i,o,r,a,c,"next",e)}function c(e){Wt(i,o,r,a,c,"throw",e)}a(void 0)}))}}function Kt(e){return Qt.apply(this,arguments)}function Qt(){return Qt=zt(H().mark((function e(n){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.apolloClient,e.next=3,t.query({query:ue.qf,fetchPolicy:"no-cache"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Qt.apply(this,arguments)}var $t=t(13311),Xt=t.n($t);function eo(e,n){(0,Gt.P1)({category:"Profile",action:"Register / Login",label:"Register"}),(0,Gt.nx)({event:"UserLoggedIn",Type:e?"Register":"Login","User ID":n})}function no(e){var n=(e||[]).find((function(e){return(null===e||void 0===e?void 0:e.relation)===te.or.ME}));return null===n||void 0===n?void 0:n.id}var to=t(90303),oo=t(75077);function ro(e,n,t,o,r,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(o,r)}function io(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){ro(i,o,r,a,c,"next",e)}function c(e){ro(i,o,r,a,c,"throw",e)}a(void 0)}))}}function ao(){return ao=io(H().mark((function e(n){var t,o,r,c,l,u,s,d,f,v,p,h,m,g,_,y,b,C,S,I,x,N;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=n.apolloClient,r=n.mobileNumber,c={apolloClient:o,mobileNumber:r},e.next=6,qt(c);case 6:if(null===(l=e.sent)||void 0===l||null===(t=l.errors)||void 0===t?void 0:t.length){e.next=29;break}if(null===(d=null===l||void 0===l||null===(u=l.data)||void 0===u||null===(s=u.getPatientByMobileNumber)||void 0===s?void 0:s.patients)||void 0===d?void 0:d.length){e.next=27;break}return h={apolloClient:o},e.next=15,Kt(h);case 15:if(m=e.sent,g=null===m||void 0===m||null===(f=m.data)||void 0===f||null===(v=f.getCurrentPatients)||void 0===v?void 0:v.patients,_=null===g||void 0===g||null===(p=g[0])||void 0===p?void 0:p.id){e.next=20;break}throw"User Id Not Found";case 20:localStorage.setItem("currentUser",_),y={patientId:_,apolloClient:o},(0,i.dC)((function(){a.Z.dispatch((0,to.Z)(y)),a.Z.dispatch((0,Xn.N2)(_)),a.Z.dispatch((0,Xn.w5)(g)),a.Z.dispatch((0,Xn.ih)(ge.J.SIGNEDIN)),a.Z.dispatch((0,Xn.Po)(!1))})),eo(n.isNewUser,_),(0,Gt.Gf)({userId:_,isApolloCustomer:!1,profileFetchedCount:1}),e.next=28;break;case 27:b=no(d),C=localStorage.getItem("currentUser"),(0,i.dC)((function(){if((null===C||void 0===C?void 0:C.length)||b){var e=d.map((function(e){return e.id}))||[];b&&!(null===e||void 0===e?void 0:e.includes(C))?(localStorage.setItem("currentUser",b),a.Z.dispatch((0,Xn.N2)(b))):a.Z.dispatch((0,Xn.N2)(C))}a.Z.dispatch((0,Xn.w5)(d)),a.Z.dispatch((0,Xn.ih)(ge.J.SIGNEDIN)),a.Z.dispatch((0,Xn.Po)(!1))})),eo(n.isNewUser,b||C),b&&(S=d?d.find((function(e){return e.id===C})):null,(0,vt.Wu)(S),null===(null===(I=Xt()(d||[],(function(e){var n;return"me"===(null===e||void 0===e||null===(n=e.relation)||void 0===n?void 0:n.toLowerCase())})))||void 0===I?void 0:I.uhid)&&(x=(0,an.eY)("utm_source"),N=(0,an.eY)("t"),Z.default.push("".concat(re.r.signIn("/"),"&utm_source=").concat(x,"&t=").concat(encodeURIComponent(N)))));case 28:a.Z.dispatch((0,Xn.BQ)(!1));case 29:e.next=36;break;case 31:e.prev=31,e.t0=e.catch(0),console.error("fire base calls error",e.t0),a.Z.dispatch((0,Xn.Po)(!0)),(0,oo.Z)();case 36:case"end":return e.stop()}}),e,null,[[0,31]])}))),ao.apply(this,arguments)}var co=t(82402);function lo(e,n,t,o,r,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(o,r)}function uo(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){lo(i,o,r,a,c,"next",e)}function c(e){lo(i,o,r,a,c,"throw",e)}a(void 0)}))}}function so(e){return fo.apply(this,arguments)}function fo(){return(fo=uo(H().mark((function e(n){var t,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.grant_type,o=n.refresh_token,e.next=3,(0,co.Z)("https://securetoken.googleapis.com/v1/token?key=".concat(D.Du),"POST",{grant_type:t,refresh_token:o},"",!0);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vo(e,n,t,o,r,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(o,r)}function po(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){vo(i,o,r,a,c,"next",e)}function c(e){vo(i,o,r,a,c,"throw",e)}a(void 0)}))}}function ho(e){return mo.apply(this,arguments)}function mo(){return mo=po(H().mark((function e(n){var t,o,r,c,l;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.apolloClient,o=n.tokenJustGotRefetched,r=function(){var e={dispatchSignOutUpdates:function(){(0,Bt.Z)({apolloClient:t})}};bt.Z.getInstance().signOut(e)},c={grant_type:"refresh_token",refresh_token:localStorage.getItem("refreshToken")},e.prev=3,e.next=6,so(c);case 6:(null===(l=e.sent)||void 0===l?void 0:l.refresh_token)&&localStorage.setItem("refreshToken",l.refresh_token),(0,i.dC)((function(){o&&a.Z.dispatch((0,Xn.c4)(!0)),a.Z.dispatch((0,Xn.xm)(l.id_token))})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("The id token fetch failed",e.t0),r();case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),mo.apply(this,arguments)}var go=t(75505);function _o(e,n,t,o,r,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(o,r)}function yo(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){_o(i,o,r,a,c,"next",e)}function c(e){_o(i,o,r,a,c,"throw",e)}a(void 0)}))}}function bo(){return Co.apply(this,arguments)}function Co(){return(Co=yo(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,co.Z)("".concat(D.Vo,"/api/fetchAuthToken"),"GET",{},"",!0,"","",null,"include");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function So(e,n,t,o,r,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(o,r)}function Io(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){So(i,o,r,a,c,"next",e)}function c(e){So(i,o,r,a,c,"throw",e)}a(void 0)}))}}function xo(){return(xo=Io(H().mark((function e(){var n,t,o,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bo();case 2:n=e.sent,t=null===n||void 0===n?void 0:n.response,o=null===t||void 0===t?void 0:t.mobileNumber,r=null===t||void 0===t?void 0:t.authToken,o&&r?(localStorage.setItem("mobile_num",o),a.Z.dispatch((0,Xn.LM)(r))):a.Z.dispatch((0,Xn.ih)(ge.J.SIGNEDOUT));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var No,Po=t(64478),wo=function(e){var n=(0,c.T)(),t=(0,c.C)(pt),o=(0,c.C)(ht),i=(0,c.C)(mt),a=(0,c.C)(pn.Z),l=(0,c.C)(gt),u=(0,c.C)(_t),s=((0,c.C)(W.QD),(0,c.C)(I.Z),(0,c.C)(vn.Z)),d=(0,c.C)(yt),f=function(){n((0,Xn.rj)(!0))},v=function(){var n={dispatchSignOutUpdates:function(){(0,Bt.Z)({apolloClient:e})}};bt.Z.getInstance().signOut(n)};return e=(0,r.useMemo)((function(){return Yt.getInstance(a,l,f,v).getClient()}),[a]),(0,r.useEffect)((function(){var n=localStorage.getItem("mobile_num")||"";(null===n||void 0===n?void 0:n.length)>0&&"null"!==n&&u&&function(e){ao.apply(this,arguments)}({isNewUser:d,apolloClient:e,mobileNumber:n})}),[u]),(0,r.useEffect)((function(){if(t){var o=localStorage.getItem("refreshToken"),r={dispatchUpdateAuthToken:function(e){n((0,Xn.xm)(e))},dispatchUpdateNewUser:function(e){n((0,Xn.o$)(e))}};(null===o||void 0===o?void 0:o.length)&&"undefined"!==o&&"null"!==o?ho({apolloClient:e,tokenJustGotRefetched:!1}):bt.Z.getInstance().customSignIn(t,r),setInterval((function(){return ho({apolloClient:e,tokenJustGotRefetched:!0})}),D.xm)}}),[t]),(0,r.useEffect)((function(){var e,t,o,r=new URLSearchParams(null===window||void 0===window||null===(e=window.location)||void 0===e?void 0:e.search),i=r.get("utm_token"),a=r.get("refresh_token"),c=r.get("utm_mobile_number"),l=r.get("utm_source"),u=r.get("t");if(!!(null===window||void 0===window||null===(t=window.location)||void 0===t||null===(o=t.search)||void 0===o?void 0:o.length)&&(i||a)&&c)!function(e,t,o){var r,i=e||"",a=t||"";if(null===(r=null===o||void 0===o?void 0:o.trim())||void 0===r?void 0:r.length){var c="+"===o.trim()[0]?"".concat(o.trim()):"+".concat(o.trim());localStorage.setItem("mobile_num",c),a?(localStorage.setItem("refreshToken",a),n((0,Xn.LM)("true"))):i&&(localStorage.setItem("refreshToken",i),n((0,Xn.xm)(i)))}}(i,a,c);else if(l&&u)!function(e){try{var n;sessionStorage.setItem("utm_source",e),(0,go.Z)({ssoPlatform:e,redirectURL:(null===window||void 0===window||null===(n=window.location)||void 0===n?void 0:n.pathname)||re.r.medicines()})}catch(t){console.error("External Login Error",t)}}(l);else{var s=localStorage.getItem("refreshToken");(null===s||void 0===s?void 0:s.length)&&"undefined"!==s&&"null"!==s?n((0,Xn.LM)("true")):function(){xo.apply(this,arguments)}()}n((0,Xn.BQ)(!1));var d=setTimeout(vt.jl,7e3);return function(){clearTimeout(d)}}),[]),(0,r.useEffect)((function(){(null===s||void 0===s?void 0:s.mobileNumber)&&n((0,Po.Z)({apolloClient:e,mobileNumber:null===s||void 0===s?void 0:s.mobileNumber}))}),[null===s||void 0===s?void 0:s.id]),(0,r.useEffect)((function(){if(o){if((null===i||void 0===i?void 0:i.status)||(null===i||void 0===i?void 0:i.authToken))return localStorage.setItem("mobile_num",null===i||void 0===i?void 0:i.mobileNumber),localStorage.setItem("currentUser",(null===i||void 0===i?void 0:i.patientId)||""),localStorage.removeItem("refreshToken"),void n((0,Xn.LM)(null===i||void 0===i?void 0:i.authToken));Z.default.push(re.r.signIn(re.r.medicines()))}}),[o]),e},ko=t(63314),Eo=function(e){var n=e.apolloClient,t=e.children;return(0,o.jsx)(ko.eT,{client:n,children:(0,o.jsx)(N.e,{client:n,children:(0,o.jsx)(o.Fragment,{children:t})})})},jo=function(e){return No=wo(No),(0,o.jsx)(Eo,{apolloClient:No,children:(0,o.jsx)(o.Fragment,{children:e.children})})},Ao=t(96038),Oo=t.n(Ao),To=function(e){return(0,o.jsx)(U.Modal,{open:e.open,handleOpen:e.handleOpen,size:"md",modalContentClass:Oo().modalContent,children:(0,o.jsx)("div",{className:Oo().pdfViewContainer,children:(0,o.jsx)("iframe",{id:"pdfviewer",src:e.source,width:"100%",height:"100%"})})})},Lo=function(e){var n=(0,r.useState)(!1),t=n[0],i=n[1],a=(0,r.useState)(!1),c=a[0],l=a[1],u=(0,r.useState)(!1),s=u[0],d=u[1];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(U.Modal,{open:!0,handleOpen:!0,size:"sm",closeIconHide:!0,modalContentClass:Oo().modalContent,modalboxClass:Oo().modalBox,modalClass:Oo().modal,children:(0,o.jsxs)("div",{className:Oo().dialogContent,children:[(0,o.jsxs)("div",{className:Oo().checkboxContainer,children:[(0,o.jsx)(U.Checkbox,{color:"primary",label:"I agree to the",isChecked:t,onClick:function(e){i(e.target.checked)},className:Oo().checkbox}),(0,o.jsx)("span",{onClick:function(){return d(!0)},children:"Privacy policy, "})," ",(0,o.jsxs)("span",{onClick:function(){return l(!0)},children:["Terms and Conditions"," "]})," ","of Apollo 247"]}),(0,o.jsx)(U.Button,{onClick:function(){return e.setIsConsentFormVisible(!1)},color:"primary",disabled:!t,children:"Confirm"})]})}),(0,o.jsx)(To,{open:c,handleOpen:l,source:"".concat("https://newassets.apollo247.com","/files/terms_and_condition_apollo247.pdf#toolbar=0&navpanes=0&scrollbar=0?embedded=true")}),(0,o.jsx)(To,{open:s,handleOpen:d,source:"".concat("https://newassets.apollo247.com","/files/privacy_policy_apollo247.pdf#toolbar=0&navpanes=0&scrollbar=0?embedded=true")})]})},Uo=(0,s.Yh)((function(e){return null===e||void 0===e?void 0:e.auth}),(function(e){return null===e||void 0===e?void 0:e.askForConsent})),Do=function(e){var n=(0,c.T)(),t=(0,c.C)(Uo);return(0,o.jsx)(o.Fragment,{children:t&&(0,o.jsx)(Lo,{setIsConsentFormVisible:function(){n((0,Xn.BB)(!0)),n((0,Xn.aM)(!1))}})})};function Ro(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Zo(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(n){Ro(e,n,t[n])}))}return e}var Mo=function(e){var n=e.Component,t=e.pageProps,i="true"===t.userDeviceIdentifier,a=!!t.isPaymentPage,s=!!t.isPDPPage,d=t.ua,f=(0,c.T)();return(0,r.useEffect)((function(){return function(){f((0,u.s9)(null))}}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.default,{children:(0,o.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"})}),(0,o.jsx)(jo,{children:(0,o.jsx)(Xe,{children:(0,o.jsx)(Me,{children:(0,o.jsx)(ft,{children:(0,o.jsxs)(L,{ua:d,isPaymentPage:a,children:[t.isAMPpage?null:!i&&(0,o.jsx)(Gn,{isPDPPage:s,ua:d}),(0,o.jsx)(nt,{}),(0,o.jsx)(Do,{}),(0,o.jsx)(n,Zo({},t)),t.footerLinks&&t.ua&&!t.isAMPpage&&!i&&(0,o.jsx)(Kn,{footerData:t.footerLinks,isMobile:Boolean(null===d||void 0===d?void 0:d.isMobile)})]})})})})})]})},Fo=function(e){var n=e.Component,t=e.pageProps;return(0,cn.j)(),(0,o.jsx)(i.zt,{store:a.Z,children:(0,o.jsx)(Mo,{Component:n,pageProps:t})})}},26006:function(e,n,t){"use strict";t.d(n,{fy:function(){return u},Vf:function(){return s},Ph:function(){return d},qX:function(){return f},O8:function(){return v},Mw:function(){return p},mn:function(){return h},SZ:function(){return m},zH:function(){return g},SH:function(){return _},pf:function(){return y},tf:function(){return b},Vu:function(){return C},AU:function(){return S},jU:function(){return I},mT:function(){return x},DD:function(){return N},t0:function(){return P},Jn:function(){return w},EO:function(){return j},tV:function(){return A},lR:function(){return O},Lk:function(){return T},Rx:function(){return L},du:function(){return U},kd:function(){return D},VV:function(){return R}});var o=t(27955),r=t.n(o),i=t(64525),a=t(84069),c=(t(45021),t(11700),t(88385)),l=t(65534),u=function(e){return e?{id:e.id,mobileNumber:e.mobileNumber,firstName:e.firstName,relation:e.relation,gender:e.gender,uhid:e.uhid,dateOfBirth:e.dateOfBirth}:{id:"",mobileNumber:"",firstName:"",relation:"",gender:"",uhid:"",dateOfBirth:""}},s=function(e){var n=(new Date).getFullYear()-new Date(e&&e.dateOfBirth).getFullYear();return{patientName:e&&"".concat(e.firstName," ").concat(e.lastName)||"",patientUhid:e&&e.uhid||"",patientGender:e&&e.gender||"",patientAge:e&&n||"",patientId:e&&e.id||"",mobileNumber:e&&e.mobileNumber||"",emailId:e&&(null===e||void 0===e?void 0:e.emailAddress)||""}},d=function(e){var n="",t=e.type,o=e.slug,r=e.sourceUrl;switch(t){case"ARTICLE":case"REPORT":n="/blog/article".concat(o);break;case"INFOGRAPHIC":case"VISUAL STORY":n=r||"";break;default:n=""}return n},f=function(e){return(null===e||void 0===e?void 0:e.dateOfBirth)?(0,i.Z)(new Date,new Date(e.dateOfBirth)):null},v=function(e,n){var t=e.patientName,o=e.patientUhid,r=e.patientGender,i=e.patientAge;return{"Patient name":t,"Patient UHID":o,"Patient gender":r,"Patient age":n?i:i.toString()}},p=function(e,n){for(var t=[],o=0,r=e.length;o<r;)t.push(e.slice(o,o+=n));return t},h=function(e){var n,t,o,r,i;return"".concat(null===e||void 0===e?void 0:e.mou," ").concat((null===e||void 0===e?void 0:e.PharmaOverview)&&(null===e||void 0===e||null===(n=e.PharmaOverview)||void 0===n?void 0:n.length)>0&&(null===e||void 0===e||null===(t=e.PharmaOverview)||void 0===t||null===(o=t[0])||void 0===o?void 0:o.Doseform)?null===e||void 0===e||null===(r=e.PharmaOverview)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.Doseform:"").concat((null===e||void 0===e?void 0:e.mou)&&1!==parseFloat(null===e||void 0===e?void 0:e.mou)?"S":"")},m=function(e){var n="\xe0\xe1\xe2\xe4\xe6\xe3\xe5\u0101\u0103\u0105\xe7\u0107\u010d\u0111\u010f\xe8\xe9\xea\xeb\u0113\u0117\u0119\u011b\u011f\u01f5\u1e27\xee\xef\xed\u012b\u012f\xec\u0142\u1e3f\xf1\u0144\u01f9\u0148\xf4\xf6\xf2\xf3\u0153\xf8\u014d\xf5\u0151\u1e55\u0155\u0159\xdf\u015b\u0161\u015f\u0219\u0165\u021b\xfb\xfc\xf9\xfa\u016b\u01d8\u016f\u0171\u0173\u1e83\u1e8d\xff\xfd\u017e\u017a\u017c\xb7/_,:;",t=new RegExp(n.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(t,(function(e){return"aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------".charAt(n.indexOf(e))})).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},g=function(e){var n='(<as*(?!.*\brel=)[^>]*)(href="https?://)((?!(?:'+["([^/]+.)?apollopharmacy.in"].join("|")+'))[^"]+)"((?!.*\brel=)[^>]*)(?:[^>]*)>';return null===e||void 0===e?void 0:e.replace(new RegExp(n,"igm"),'$1$2$3"$4 rel="nofollow">')},_=function(e){return(null===e||void 0===e?void 0:e.length)?r()(e):null},y=function(e){return e?parseInt(e,10):null},b=function(e){var n=Number((null===e||void 0===e?void 0:e.MaxOrderQty)||"10");return Array.from({length:n},(function(e,n){return n+1}))},C=function(){var e=localStorage.getItem("userSubscriptions")?JSON.parse(localStorage.getItem("userSubscriptions")):{},n=null===e||void 0===e?void 0:e.APOLLO,t=null===n||void 0===n?void 0:n.filter((function(e){return(null===e||void 0===e?void 0:e.name)===c.j9}));return t&&Array.isArray(t)&&(null===t||void 0===t?void 0:t.length)>0&&(null===t||void 0===t?void 0:t[0])},S=function(){var e,n="No Subscription",t=C();t&&(n="first_time"==(null===t||void 0===t||null===(e=t.source_meta_data)||void 0===e?void 0:e.purchase_type)?"New":"Repeat");return n},I=function(){return!0},x=function(){var e=localStorage.getItem("userSubscriptions")?JSON.parse(localStorage.getItem("userSubscriptions")):{},n=(null===e||void 0===e?void 0:e.APOLLO)||[],t=null===n||void 0===n?void 0:n.filter((function(e){return(null===e||void 0===e?void 0:e.name)===c.j9})),o=localStorage.getItem("inactiveSubscriptions")?JSON.parse(localStorage.getItem("inactiveSubscriptions")):{},r=(null===o||void 0===o?void 0:o.APOLLO)||[],i=null===r||void 0===r?void 0:r.filter((function(e){return(null===e||void 0===e?void 0:e.name)===c.j9}));return t.length<1&&i.length<1},N=function(e,n,t){return e.hasOwnProperty("variant")?t:n},P=function(e){e},w=function(e){var n;return null===(n=null===e||void 0===e?void 0:e.split(",").filter((function(e){return e})).map((function(e){return e})))||void 0===n?void 0:n[0]},k=[a.y3.DELIVERED,a.y3.CANCELLED,a.y3.LOST,a.y3.PAYMENT_ABORTED,a.y3.PAYMENT_FAILED,a.y3.PURCHASED_IN_STORE,a.y3.RVP_ASSIGNED],E=[a.y3.DELIVERED,a.y3.CANCELLED,a.y3.PAYMENT_FAILED,a.y3.RETURN_PICKUP,a.y3.LOST,a.y3.RETURN_INITIATED,a.y3.PURCHASED_IN_STORE],j=function(e,n){return k.includes(e)||n.find((function(e){return(null===e||void 0===e?void 0:e.orderStatus)===a.y3.DELIVERED}))},A=function(e){return e===a.y3.CANCELLED||e===a.y3.PAYMENT_FAILED||e===a.y3.LOST},O=function(e){var n="";switch(e){case a.y3.CANCELLED:case a.y3.LOST:n="Order Cancelled";break;case a.y3.CANCEL_REQUEST:n="Cancel Requested";break;case a.y3.DELIVERED:n="Order Delivered";break;case a.y3.OUT_FOR_DELIVERY:n="Out for Delivery";break;case a.y3.ORDER_BILLED:n="Order Billed and Packed";break;case a.y3.PICKEDUP:n="Order Picked Up";break;case a.y3.VERIFICATION_DONE:case a.y3.PRESCRIPTION_VERIFIED:n="Order Verified";break;case a.y3.PRESCRIPTION_IN_VERIFICATION:n="Order Placed";break;case a.y3.READY_AT_STORE:n="Order Ready at Store";break;case a.y3.DELIVERY_ATTEMPTED:n="Delivery Attempted";break;case a.y3.RVP_ASSIGNED:n="Return Pickup Assigned";break;case a.y3.RETURN_PICKUP:n="Return Successful";break;case a.y3.RETURN_TO_ORIGIN:n="Return Initiated";break;case a.y3.PURCHASED_IN_STORE:n="Purchased In-store";break;case a.y3.PACKED:n="Billed and Packed";break;case a.y3.RETURN_REQUEST_RAISED:n="Return Requested";break;case a.y3.RETURN_REQUEST_CANCELLED:n="Return Request Cancelled";break;case a.y3.RETURN_REFUND_INITIATED:n="Refund Initiated";break;case a.y3.RETURN_REQUEST_REJECTED:n="Return Request Rejected";break;case a.y3.RETURN_PICKED_UP:case a.y3.RETURN_REQUEST_PICKUP:n="Return Items Picked";break;case"TO_BE_DELIVERED":n="Expected Order Delivery";break;default:n=(e||"").split("_").map((function(e){return"".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1).toLowerCase())})).join(" ")}return n},T=function(e){var n=e.filter((function(e){return e.orderStatus==a.y3.ON_HOLD}));return n.length>0&&n[n.length-1]},L=function(e){return E.includes(e)},U="Re-uploaded prescription under review.",D=function(e){if(e&&"object"===typeof e){var n=e.dc_availability,t=e.is_in_contract;return n&&t&&"string"===typeof n&&"string"===typeof t&&"no"===n.toLowerCase().trim()&&"no"===t.toLowerCase().trim()||!1}return!1},R=function(){(0,l.nx)({event:"download_app"})}},28343:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var o=t(34051),r=t.n(o),i=t(91322),a=t(65534),c=t(99210),l=t(11163),u=t(75077),s=t(92885);function d(e,n,t,o,r,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(o,r)}function f(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){d(i,o,r,a,c,"next",e)}function c(e){d(i,o,r,a,c,"throw",e)}a(void 0)}))}}function v(e){return p.apply(this,arguments)}function p(){return(p=f(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.apolloClient.clearStore(),(0,a.P1)({category:"Profile",action:"Logout",label:"Logout"}),(0,a.nx)({event:"UserLoggedOut"}),(0,i.bW)(),Object.keys(localStorage).forEach((function(e){"WZRK_"===e.substring(0,5)||"email_CT"===e||s.Is.includes(e)||localStorage.removeItem(e)})),(0,u.Z)(),l.default.push(c.r.medicines());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},75077:function(e,n,t){"use strict";t.d(n,{Z:function(){return h}});var o=t(34051),r=t.n(o),i=t(9473),a=t(3644),c=t(52951),l=t(68424),u=t(84093),s=t(82798),d=t(45867);function f(e,n,t,o,r,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(o,r)}function v(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){f(i,o,r,a,c,"next",e)}function c(e){f(i,o,r,a,c,"throw",e)}a(void 0)}))}}var p={latitude:0,longitude:0,city:"",pincode:"",country:"",state:""};function h(){return m.apply(this,arguments)}function m(){return(m=v(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("refreshToken"),localStorage.removeItem("mobile_num"),localStorage.removeItem("currentUser"),localStorage.removeItem("pharmaPincode"),localStorage.removeItem("pharmaAddressDetails"),localStorage.removeItem("CIRCLEPlan"),(0,i.dC)((function(){a.Z.dispatch((0,c.xm)("")),a.Z.dispatch((0,c.LM)("")),a.Z.dispatch((0,c.c4)(!1)),a.Z.dispatch((0,c.ih)(s.J.SIGNEDOUT)),a.Z.dispatch((0,c.N2)("")),a.Z.dispatch((0,c.w5)([])),a.Z.dispatch((0,u.xt)("")),a.Z.dispatch((0,u.yA)([])),a.Z.dispatch((0,u.m$)(!1)),a.Z.dispatch((0,c.rj)(!1)),a.Z.dispatch((0,c.jc)(null)),a.Z.dispatch((0,l.Z)()),a.Z.dispatch((0,d.r$)([])),a.Z.dispatch((0,u.bJ)(p))}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},67139:function(e,n,t){"use strict";var o=t(88683);n.Z=(0,o.Yh)((function(e){return null===e||void 0===e?void 0:e.cart}),(function(e){return null===e||void 0===e?void 0:e.serverCartErrorMessage}))},95335:function(e,n,t){"use strict";var o=t(88683);n.Z=(0,o.Yh)((function(e){return null===e||void 0===e?void 0:e.cart}),(function(e){return null===e||void 0===e?void 0:e.showCouponSuccessApplied}))},83371:function(e,n,t){"use strict";var o=t(88683);n.Z=(0,o.Yh)((function(e){return null===e||void 0===e?void 0:e.cart}),(function(e){return null===e||void 0===e?void 0:e.userActionPayload}))},62745:function(e,n,t){"use strict";var o=t(88683);n.Z=(0,o.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.city}))},91068:function(e,n,t){"use strict";var o=t(88683);n.Z=(0,o.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.editAddressId}))},36866:function(e,n,t){"use strict";var o=t(88683);n.Z=(0,o.Yh)((function(e){return null===e||void 0===e?void 0:e.subscriptions}),(function(e){return null===e||void 0===e?void 0:e.userSubscriptions}))},72174:function(e){e.exports={container:"Footer_container__9LsNz",footerContent:"Footer_footerContent__VIrkr",accordionContainer:"Footer_accordionContainer__2q4UN",accordion:"Footer_accordion__pWwmD",accordionHeader:"Footer_accordionHeader__ZC8Zb",accordionBody:"Footer_accordionBody__LRc3b",title:"Footer_title__pTg3I",footerLinks:"Footer_footerLinks__ByCq8",footerLogo:"Footer_footerLogo__xtvS9",footerLinksWrap:"Footer_footerLinksWrap__sZMGE",socialLink:"Footer_socialLink__0e52y",appLinks:"Footer_appLinks__W11Hj",downloadAppContainer:"Footer_downloadAppContainer__Sd2Ph",socialLinkContainer:"Footer_socialLinkContainer__wGnD1",expandIcon:"Footer_expandIcon__IENhM",active:"Footer_active__WVG_6",displayNone:"Footer_displayNone__RKOxJ"}},15549:function(e){e.exports={header:"Header_header__6Bc2a",headerContent:"Header_headerContent__wqr4M",logoWrapper:"Header_logoWrapper__m0fhl",logo:"Header_logo__fNpPT",menuContainer:"Header_menuContainer__9NmSf",cartContainer:"Header_cartContainer__cStGj",badge:"Header_badge__IUqLU",userOptions:"Header_userOptions__IXgav",userCircle:"Header_userCircle__FKMNm",userActive:"Header_userActive__W1CyJ",specialOffer:"Header_specialOffer__mpZtI",searchBtn:"Header_searchBtn__5ofV1",miniAppUser:"Header_miniAppUser__vBLgX"}},10176:function(e){e.exports={navigationList:"Navigation_navigationList__JJmA6",subTitle:"Navigation_subTitle__9wj8h",menuicon:"Navigation_menuicon__tDu_u",addOn:"Navigation_addOn__SZCpi",widthAuto:"Navigation_widthAuto__yNa80",menuTitle:"Navigation_menuTitle__E1bVk",active:"Navigation_active__OKRTo","icon-ic_medicines":"Navigation_icon-ic_medicines__qHMMQ","icon-ic_account":"Navigation_icon-ic_account__T0GlM","icon-ic_tests":"Navigation_icon-ic_tests__IjEjF","icon-ic_appointments_selected":"Navigation_icon-ic_appointments_selected__5yG_h","icon-ic-consult":"Navigation_icon-ic-consult__HHqY8","icon-ic_myhealth":"Navigation_icon-ic_myhealth__FvY0_","icon-ic_doctors":"Navigation_icon-ic_doctors__m0tDz","icon-ic_covid":"Navigation_icon-ic_covid__mQDn1"}},96038:function(e){e.exports={dialogContent:"PartnerConsent_dialogContent__y6VNo",checkbox:"PartnerConsent_checkbox__7bA77",modalContent:"PartnerConsent_modalContent__y_djx",modalBox:"PartnerConsent_modalBox__9O6fq",modal:"PartnerConsent_modal___bOws",checkboxContainer:"PartnerConsent_checkboxContainer__sYmrz",pdfViewContainer:"PartnerConsent_pdfViewContainer__kDgdZ"}},28078:function(e){e.exports={windowBody:"ServerCartManager_windowBody__nQdYm",successPopoverWindow:"ServerCartManager_successPopoverWindow__lXfs_",windowWrap:"ServerCartManager_windowWrap__77hoF",mascotIcon:"ServerCartManager_mascotIcon__nV_nY",actions:"ServerCartManager_actions__qHlZ6",button:"ServerCartManager_button__MnKb4",saveAddressMain:"ServerCartManager_saveAddressMain__aWDbH",saveAddressMainTitle:"ServerCartManager_saveAddressMainTitle__aTTNO",saveAddressMainMidSection:"ServerCartManager_saveAddressMainMidSection__RRT56",cardListMain:"ServerCartManager_cardListMain___3k2L",dialogBox:"ServerCartManager_dialogBox__8FK4Z",dialogBoxEditAddress:"ServerCartManager_dialogBoxEditAddress__Isza7",HeaderStrip:"ServerCartManager_HeaderStrip__9TdN7"}},70954:function(e){e.exports={locationContainer:"LocationSearch_locationContainer__iHSc5",miniAppUser:"LocationSearch_miniAppUser__0tOn7",selectLocation:"LocationSearch_selectLocation__D7apI",location:"LocationSearch_location__mQ_gi",active:"LocationSearch_active__lhFIV",locationPay:"LocationSearch_locationPay__bHlna",locationContent:"LocationSearch_locationContent__MgP69",currentLocation:"LocationSearch_currentLocation__Hk68o",pincodeOption:"LocationSearch_pincodeOption__CU_7J",divider:"LocationSearch_divider__sDGUE",pincodeData:"LocationSearch_pincodeData__O0WkH",pinModalTitle:"LocationSearch_pinModalTitle__TJx8q",bottomActions:"LocationSearch_bottomActions__oWEfA",submitBtn:"LocationSearch_submitBtn__DAFdq",disabledBtn:"LocationSearch_disabledBtn__8NEqt",pincodeError:"LocationSearch_pincodeError__BtYkz",noService:"LocationSearch_noService__8SsYS",textEllipses:"LocationSearch_textEllipses__9bDDB",noEllipses:"LocationSearch_noEllipses__VfDfW",displayInlineBlk:"LocationSearch_displayInlineBlk__PQzOd",disableLocationUpdate:"LocationSearch_disableLocationUpdate__HvGdm",pincodeWrap:"LocationSearch_pincodeWrap__7_Rk9","icon-ic_location":"LocationSearch_icon-ic_location__5zbMi",greyBackground:"LocationSearch_greyBackground__ZiRY8"}}}]);